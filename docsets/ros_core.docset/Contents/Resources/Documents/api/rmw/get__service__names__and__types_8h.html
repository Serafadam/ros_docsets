<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rmw: include/rmw/get_service_names_and_types.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rmw
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">C API providing a middleware abstraction layer which is used to implement the rest of ROS.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_f1863b20b54cc3d25893e93314d6cb7b.html">rmw</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">get_service_names_and_types.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="macros_8h_source.html">rmw/macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="names__and__types_8h_source.html">rmw/names_and_types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="types_8h_source.html">rmw/types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="visibility__control_8h_source.html">rmw/visibility_control.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for get_service_names_and_types.h:</div>
<div class="dyncontent">
<div class="center"><img src="get__service__names__and__types_8h__incl.png" border="0" usemap="#ainclude_2rmw_2get__service__names__and__types_8h" alt=""/></div>
<map name="ainclude_2rmw_2get__service__names__and__types_8h" id="ainclude_2rmw_2get__service__names__and__types_8h">
<area shape="rect" title=" " alt="" coords="1328,5,1509,47"/>
<area shape="rect" href="macros_8h.html" title=" " alt="" coords="221,609,336,635"/>
<area shape="rect" href="names__and__types_8h.html" title=" " alt="" coords="1465,95,1650,121"/>
<area shape="rect" href="visibility__control_8h.html" title=" " alt="" coords="2016,601,2139,643"/>
<area shape="rect" href="types_8h.html" title=" " alt="" coords="1266,169,1369,196"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/macros_8h.html.html" title=" " alt="" coords="215,691,342,717"/>
<area shape="rect" title=" " alt="" coords="2769,512,2844,539"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/allocator_8h.html.html" title=" " alt="" coords="1241,512,1375,539"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/types_8h.html.html" title=" " alt="" coords="1501,512,1616,539"/>
<area shape="rect" title=" " alt="" coords="1133,512,1216,539"/>
<area shape="rect" title=" " alt="" coords="959,609,1030,635"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/logging_8h.html.html" title=" " alt="" coords="402,326,529,353"/>
<area shape="rect" href="time_8h.html" title=" " alt="" coords="247,415,355,442"/>
<area shape="rect" href="events__statuses_8h.html" title=" " alt="" coords="2098,319,2259,360"/>
<area shape="rect" href="init_8h.html" title=" " alt="" coords="833,244,921,271"/>
<area shape="rect" href="init__options_8h.html" title=" " alt="" coords="974,326,1117,353"/>
<area shape="rect" href="ret__types_8h.html" title=" " alt="" coords="931,512,1059,539"/>
<area shape="rect" href="security__options_8h.html" title=" " alt="" coords="1193,415,1367,442"/>
<area shape="rect" href="serialized__message_8h.html" title=" " alt="" coords="2745,244,2941,271"/>
<area shape="rect" href="subscription__content__filter__options_8h.html" title=" " alt="" coords="1545,408,1735,449"/>
<area shape="rect" href="error__handling_8h.html" title="Functions and macros to interact with error handling mechanisms." alt="" coords="379,415,551,442"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/error__handling_8h.html.html" title=" " alt="" coords="481,512,653,539"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/time_8h.html.html" title=" " alt="" coords="297,512,405,539"/>
<area shape="rect" href="incompatible__qos_8h.html" title=" " alt="" coords="2217,408,2378,449"/>
<area shape="rect" href="liveliness__changed_8h.html" title=" " alt="" coords="1877,505,2040,546"/>
<area shape="rect" href="liveliness__lost_8h.html" title=" " alt="" coords="2217,505,2378,546"/>
<area shape="rect" href="message__lost_8h.html" title=" " alt="" coords="2402,408,2563,449"/>
<area shape="rect" href="offered__deadline__missed_8h.html" title=" " alt="" coords="2587,408,2789,449"/>
<area shape="rect" href="requested__deadline__missed_8h.html" title=" " alt="" coords="1641,497,1802,553"/>
<area shape="rect" href="qos__policy__kind_8h.html" title=" " alt="" coords="2453,512,2624,539"/>
<area shape="rect" href="domain__id_8h.html" title=" " alt="" coords="931,415,1066,442"/>
<area shape="rect" href="localhost_8h.html" title=" " alt="" coords="1811,415,1938,442"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/uint8__array_8h.html.html" title=" " alt="" coords="2780,319,2919,360"/>
</map>
</div>
</div>
<p><a href="get__service__names__and__types_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abf495afaafacac33473d5f6c9c451ab4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ret__types_8h.html#a58f6b3792cb4f09b26362e504f4c7caa">rmw_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="get__service__names__and__types_8h.html#abf495afaafacac33473d5f6c9c451ab4">rmw_get_service_names_and_types</a> (const <a class="el" href="types_8h.html#aa4107492f674f1a634a2ad5b4075ce44">rmw_node_t</a> *node, <a class="elRef" href="http://docs.ros2.org/humble/api/rcutils/allocator_8h.html#a2b0c5a16a0401a4afb39d352ff999019">rcutils_allocator_t</a> *allocator, <a class="el" href="names__and__types_8h.html#a581dd5f2ca993517b5602f852bfaf5ca">rmw_names_and_types_t</a> *service_names_and_types)</td></tr>
<tr class="memdesc:abf495afaafacac33473d5f6c9c451ab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return all service names and types in the ROS graph.  <a href="get__service__names__and__types_8h.html#abf495afaafacac33473d5f6c9c451ab4">More...</a><br /></td></tr>
<tr class="separator:abf495afaafacac33473d5f6c9c451ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="abf495afaafacac33473d5f6c9c451ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf495afaafacac33473d5f6c9c451ab4">&#9670;&nbsp;</a></span>rmw_get_service_names_and_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ret__types_8h.html#a58f6b3792cb4f09b26362e504f4c7caa">rmw_ret_t</a> rmw_get_service_names_and_types </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#aa4107492f674f1a634a2ad5b4075ce44">rmw_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="http://docs.ros2.org/humble/api/rcutils/allocator_8h.html#a2b0c5a16a0401a4afb39d352ff999019">rcutils_allocator_t</a> *&#160;</td>
          <td class="paramname"><em>allocator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="names__and__types_8h.html#a581dd5f2ca993517b5602f852bfaf5ca">rmw_names_and_types_t</a> *&#160;</td>
          <td class="paramname"><em>service_names_and_types</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return all service names and types in the ROS graph. </p>
<p>This function returns an array of all service names and types in the ROS graph i.e. for which a server and/or client exists, as discovered so far by the given local node.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">Maybe [1]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Maybe [1]   </td></tr>
</table>
<p><em>[1] rmw implementation defined, check the implementation documentation</em></p>
<dl class="section user"><dt>Runtime behavior</dt><dd>To query the ROS graph is a synchronous operation. It is also non-blocking, but it is not guaranteed to be lock-free. Generally speaking, implementations may synchronize access to internal resources using locks but are not allowed to wait for events with no guaranteed time bound (barring the effects of starvation due to OS scheduling).</dd></dl>
<dl class="section user"><dt>Thread-safety</dt><dd>Nodes are thread-safe objects, and so are all operations on them except for finalization. Therefore, it is safe to query the ROS graph using the same node concurrently. However, when querying services names and types:<ul>
<li>Access to the array of names and types is not synchronized. It is not safe to read or write <code>service_names_and_types</code> while <a class="el" href="get__service__names__and__types_8h.html#abf495afaafacac33473d5f6c9c451ab4" title="Return all service names and types in the ROS graph.">rmw_get_service_names_and_types()</a> uses it.</li>
<li>The default allocators are thread-safe objects, but any custom <code>allocator</code> may not be. Check your allocator documentation for further reference.</li>
</ul>
</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>Given <code>node</code> must be a valid node handle, as returned by <a class="el" href="rmw_8h.html#aeb06f551db3cbcd6298ed8f20e3ed8d2" title="Create a node and return a handle to that node.">rmw_create_node()</a>. </dd>
<dd>
Given <code>services_names_and_types</code> must be a zero-initialized array of names and types, as returned by <a class="el" href="names__and__types_8h.html#a5407c7e660054ab84da8f84913a48c9e" title="Return a zero initialized array of names and types.">rmw_get_zero_initialized_names_and_types()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>Node to query the ROS graph. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>Allocator to be used when populating the <code>service_names_and_types</code> array. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">service_names_and_types</td><td>Array of service names and their types, populated on success but left unchanged on failure. If populated, it is up to the caller to finalize this array later on using <a class="el" href="names__and__types_8h.html#a4efcc3024c3307b97087ee43533b5a5c" title="Finalize an array of names and types.">rmw_names_and_types_fini()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>RMW_RET_OK</code> if the query was successful, or </dd>
<dd>
<code>RMW_RET_INVALID_ARGUMENT</code> if <code>node</code> is NULL, or </dd>
<dd>
<code>RMW_RET_INVALID_ARGUMENT</code> if <code>allocator</code> is not valid, by <a class="elRef" href="http://docs.ros2.org/humble/api/rcutils/allocator_8h.html#a5842eb62072ac700808992e29c057d54">rcutils_allocator_is_valid()</a> definition, or </dd>
<dd>
<code>RMW_RET_INVALID_ARGUMENT</code> if <code>service_names_and_types</code> is NULL, or </dd>
<dd>
<code>RMW_RET_INVALID_ARGUMENT</code> if <code>service_names_and_types</code> is not a zero-initialized array, or </dd>
<dd>
<code>RMW_RET_INCORRECT_RMW_IMPLEMENTATION</code> if the <code>node</code> implementation identifier does not match this implementation, or </dd>
<dd>
<code>RMW_RET_BAD_ALLOC</code> if memory allocation fails, or </dd>
<dd>
<code>RMW_RET_ERROR</code> if an unspecified error occurs. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
