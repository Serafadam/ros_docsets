<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rcutils: rcutils_allocator_s Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rcutils
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">C API providing common utilities and data structures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structrcutils__allocator__s-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rcutils_allocator_s Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Encapsulation of an allocator.  
 <a href="structrcutils__allocator__s.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="allocator_8h_source.html">allocator.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:adf82a6188e89198129ced80735598d72"><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcutils__allocator__s.html#adf82a6188e89198129ced80735598d72">allocate</a> )(size_t size, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td></tr>
<tr class="memdesc:adf82a6188e89198129ced80735598d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate memory, given a size and the <code>state</code> pointer.  <a href="structrcutils__allocator__s.html#adf82a6188e89198129ced80735598d72">More...</a><br /></td></tr>
<tr class="separator:adf82a6188e89198129ced80735598d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574f9978e9c1c0a49651b59a4190bbff"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcutils__allocator__s.html#a574f9978e9c1c0a49651b59a4190bbff">deallocate</a> )(void *pointer, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td></tr>
<tr class="memdesc:a574f9978e9c1c0a49651b59a4190bbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocate previously allocated memory, mimicking free().  <a href="structrcutils__allocator__s.html#a574f9978e9c1c0a49651b59a4190bbff">More...</a><br /></td></tr>
<tr class="separator:a574f9978e9c1c0a49651b59a4190bbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa5ab4816af29f5ed2629f930d4880a"><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcutils__allocator__s.html#a8aa5ab4816af29f5ed2629f930d4880a">reallocate</a> )(void *pointer, size_t size, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td></tr>
<tr class="memdesc:a8aa5ab4816af29f5ed2629f930d4880a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reallocate if possible, otherwise it deallocates and allocates.  <a href="structrcutils__allocator__s.html#a8aa5ab4816af29f5ed2629f930d4880a">More...</a><br /></td></tr>
<tr class="separator:a8aa5ab4816af29f5ed2629f930d4880a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5890821b324fcab18eddc3ded46d163e"><td class="memItemLeft" align="right" valign="top">void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcutils__allocator__s.html#a5890821b324fcab18eddc3ded46d163e">zero_allocate</a> )(size_t number_of_elements, size_t size_of_element, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td></tr>
<tr class="memdesc:a5890821b324fcab18eddc3ded46d163e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate memory with all elements set to zero, given a number of elements and their size.  <a href="structrcutils__allocator__s.html#a5890821b324fcab18eddc3ded46d163e">More...</a><br /></td></tr>
<tr class="separator:a5890821b324fcab18eddc3ded46d163e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8587e8a07b9242e47bb6ff36edf49b"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a></td></tr>
<tr class="memdesc:a7b8587e8a07b9242e47bb6ff36edf49b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation defined state storage.  <a href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">More...</a><br /></td></tr>
<tr class="separator:a7b8587e8a07b9242e47bb6ff36edf49b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulation of an allocator. </p>
<p>The default allocator uses malloc(), free(), calloc(), and realloc(). It can be obtained using <a class="el" href="allocator_8h.html#acf03104d429d7c11200b33bd8ce892b9" title="Return a properly initialized rcutils_allocator_t with default values.">rcutils_get_default_allocator()</a>.</p>
<p>The allocator should be trivially copyable. Meaning that the struct should continue to work after being assignment copied into a new struct. Specifically the object pointed to by the state pointer should remain valid until all uses of the allocator have been made. Particular care should be taken when giving an allocator to functions like rcutils_*_init() where it is stored within another object and used later. Developers should note that, while the fields of a const-qualified allocator struct cannot be modified, the state of the allocator can be modified. </p>
</div><h2 class="groupheader">Member Data Documentation</h2>
<a id="adf82a6188e89198129ced80735598d72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf82a6188e89198129ced80735598d72">&#9670;&nbsp;</a></span>allocate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* rcutils_allocator_s::allocate) (size_t size, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate memory, given a size and the <code>state</code> pointer. </p>
<p>An error should be indicated by returning <code>NULL</code>. </p>

</div>
</div>
<a id="a574f9978e9c1c0a49651b59a4190bbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574f9978e9c1c0a49651b59a4190bbff">&#9670;&nbsp;</a></span>deallocate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* rcutils_allocator_s::deallocate) (void *pointer, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deallocate previously allocated memory, mimicking free(). </p>
<p>Also takes the <code>state</code> pointer. </p>

</div>
</div>
<a id="a8aa5ab4816af29f5ed2629f930d4880a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8aa5ab4816af29f5ed2629f930d4880a">&#9670;&nbsp;</a></span>reallocate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* rcutils_allocator_s::reallocate) (void *pointer, size_t size, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reallocate if possible, otherwise it deallocates and allocates. </p>
<p>Also takes the <code>state</code> pointer.</p>
<p>If unsupported then do deallocate and then allocate. This should behave as realloc() does, as opposed to posix's <a href="https://linux.die.net/man/3/reallocf">reallocf</a>, i.e. the memory given by pointer will not be free'd automatically if realloc() fails. For reallocf-like behavior use <a class="el" href="allocator_8h.html#ac159eba8f5cde86f891d28c7be7693bc" title="Emulate the behavior of reallocf.">rcutils_reallocf()</a>. This function must be able to take an input pointer of <code>NULL</code> and succeed. </p>

</div>
</div>
<a id="a5890821b324fcab18eddc3ded46d163e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5890821b324fcab18eddc3ded46d163e">&#9670;&nbsp;</a></span>zero_allocate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void*(* rcutils_allocator_s::zero_allocate) (size_t number_of_elements, size_t size_of_element, void *<a class="el" href="structrcutils__allocator__s.html#a7b8587e8a07b9242e47bb6ff36edf49b">state</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate memory with all elements set to zero, given a number of elements and their size. </p>
<p>An error should be indicated by returning <code>NULL</code>. </p>

</div>
</div>
<a id="a7b8587e8a07b9242e47bb6ff36edf49b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8587e8a07b9242e47bb6ff36edf49b">&#9670;&nbsp;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* rcutils_allocator_s::state</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation defined state storage. </p>
<p>This is passed as the final parameter to other allocator functions. Note that the contents of the state can be modified even in const-qualified allocator objects. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>include/rcutils/<a class="el" href="allocator_8h_source.html">allocator.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
