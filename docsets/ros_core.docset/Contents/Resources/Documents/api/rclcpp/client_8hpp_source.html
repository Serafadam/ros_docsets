<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rclcpp: include/rclcpp/client.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rclcpp
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">C++ ROS Client Library API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_01cab12f5a6af7cf2b1939f91562c565.html">rclcpp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">client.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="client_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">// Copyright 2014 Open Source Robotics Foundation, Inc.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">//     http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// limitations under the License.</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifndef RCLCPP__CLIENT_HPP_</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#define RCLCPP__CLIENT_HPP_</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &lt;atomic&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &lt;future&gt;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;unordered_map&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;mutex&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;optional&gt;</span>  <span class="comment">// NOLINT, cpplint doesn&#39;t think this is a cpp std header</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;tuple&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &lt;variant&gt;</span>  <span class="comment">// NOLINT</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;rcl/client.h&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;rcl/error_handling.h&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;rcl/event_callback.h&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;rcl/wait.h&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="cpp__callback__trampoline_8hpp.html">rclcpp/detail/cpp_callback_trampoline.hpp</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="exceptions_8hpp.html">rclcpp/exceptions.hpp</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="expand__topic__or__service__name_8hpp.html">rclcpp/expand_topic_or_service_name.hpp</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="function__traits_8hpp.html">rclcpp/function_traits.hpp</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="logging_8hpp.html">rclcpp/logging.hpp</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="macros_8hpp.html">rclcpp/macros.hpp</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="node__graph__interface_8hpp.html">rclcpp/node_interfaces/node_graph_interface.hpp</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="qos_8hpp.html">rclcpp/qos.hpp</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="type__support__decl_8hpp.html">rclcpp/type_support_decl.hpp</a>&quot;</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utilities_8hpp.html">rclcpp/utilities.hpp</a>&quot;</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="visibility__control_8hpp.html">rclcpp/visibility_control.hpp</a>&quot;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor">#include &quot;rmw/error_handling.h&quot;</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#include &quot;rmw/impl/cpp/demangle.hpp&quot;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;rmw/rmw.h&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacerclcpp.html">rclcpp</a></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;{</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160; </div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">namespace </span>detail</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;{</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> FutureT&gt;</div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">   58</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">FutureAndRequestId</a></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ace0880220c5c8c1dcd89bc6dd62a5840">   60</a></span>&#160;  FutureT <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ace0880220c5c8c1dcd89bc6dd62a5840">future</a>;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a62cb5697076cd0e5db9f1cc254f7cf74">   61</a></span>&#160;  int64_t <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a62cb5697076cd0e5db9f1cc254f7cf74">request_id</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a7b72e51a6dea5d9760b81a3f14ec764e">   63</a></span>&#160;  <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a7b72e51a6dea5d9760b81a3f14ec764e">FutureAndRequestId</a>(FutureT impl, int64_t req_id)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  : <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ace0880220c5c8c1dcd89bc6dd62a5840">future</a>(<a class="code" href="namespacestd.html">std</a>::move(impl)), <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a62cb5697076cd0e5db9f1cc254f7cf74">request_id</a>(req_id)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  {}</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a3661c92fb64292615a26c0194b31002d">   68</a></span>&#160;  <span class="keyword">operator</span> FutureT &amp;() {<span class="keywordflow">return</span> this-&gt;<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ace0880220c5c8c1dcd89bc6dd62a5840">future</a>;}</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160; </div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  [[deprecated(<span class="stringliteral">&quot;FutureAndRequestId: use .future instead of an implicit conversion&quot;</span>)]]</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a19b76d6140a52117e2eb4dd4c6f2f3ed">   76</a></span>&#160;  <span class="keyword">operator</span> FutureT() {<span class="keywordflow">return</span> this-&gt;<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ace0880220c5c8c1dcd89bc6dd62a5840">future</a>;}</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="comment">// delegate future like methods in the std::future impl_</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#acda3641ce4fe1774fef0d955555db3db">   81</a></span>&#160;  <span class="keyword">auto</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#acda3641ce4fe1774fef0d955555db3db">get</a>() {<span class="keywordflow">return</span> this-&gt;future.get();}</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ae4c5ad33994ca0fccd2caf2da9b42fbe">   83</a></span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ae4c5ad33994ca0fccd2caf2da9b42fbe">valid</a>() const noexcept {<span class="keywordflow">return</span> this-&gt;future.valid();}</div>
<div class="line"><a name="l00085"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aa00c423f8bc388a26eeabf5002288aa1">   85</a></span>&#160;  <span class="keywordtype">void</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aa00c423f8bc388a26eeabf5002288aa1">wait</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> this-&gt;future.wait();}</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> Rep, <span class="keyword">class</span> Period&gt;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a110653b5a8411011c27405eaeb99ca79">   88</a></span>&#160;  std::future_status <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a110653b5a8411011c27405eaeb99ca79">wait_for</a>(</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keyword">const</span> std::chrono::duration&lt;Rep, Period&gt; &amp; timeout_duration)<span class="keyword"> const</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> this-&gt;future.wait_for(timeout_duration);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">class</span> Clock, <span class="keyword">class</span> Duration&gt;</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a11a7f940041d224f55404708b9e3887b">   95</a></span>&#160;  std::future_status <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a11a7f940041d224f55404708b9e3887b">wait_until</a>(</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">const</span> std::chrono::time_point&lt;Clock, Duration&gt; &amp; timeout_time)<span class="keyword"> const</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">return</span> this-&gt;future.wait_until(timeout_time);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="comment">// Rule of five, we could use the rule of zero here, but better be explicit as some of the</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="comment">// methods are deleted.</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aa4eeee1a30ee22ce22016bea6fb56dc5">  105</a></span>&#160;  <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aa4eeee1a30ee22ce22016bea6fb56dc5">FutureAndRequestId</a>(<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">FutureAndRequestId</a> &amp;&amp; other) noexcept = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a6fb1b54f4195153f2cddcf4942d92766">  107</a></span>&#160;  <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a6fb1b54f4195153f2cddcf4942d92766">FutureAndRequestId</a>(<span class="keyword">const</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">FutureAndRequestId</a> &amp; other) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a24ea0115db1f0735daceaed64324f954">  109</a></span>&#160;  <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">FutureAndRequestId</a> &amp; <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a24ea0115db1f0735daceaed64324f954">operator=</a>(<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">FutureAndRequestId</a> &amp;&amp; other) noexcept = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a66c81c56752acd10a499b7ef86825a13">  111</a></span>&#160;  <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">FutureAndRequestId</a> &amp; <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a66c81c56752acd10a499b7ef86825a13">operator=</a>(<span class="keyword">const</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">FutureAndRequestId</a> &amp; other) = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="line" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aad6fb75c3b211ac4da7d7a4c0454e458">  113</a></span>&#160;  <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aad6fb75c3b211ac4da7d7a4c0454e458">~FutureAndRequestId</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;};</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;}  <span class="comment">// namespace detail</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">namespace </span>node_interfaces</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="keyword">class </span>NodeBaseInterface;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}  <span class="comment">// namespace node_interfaces</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html">  122</a></span>&#160;<span class="keyword">class </span><a class="code" href="classrclcpp_1_1ClientBase.html">ClientBase</a></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;{</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="macros_8hpp.html#ad8b6db2e8a167744be0edad2e07b19f3">RCLCPP_SMART_PTR_DEFINITIONS_NOT_COPYABLE</a>(<a class="code" href="classrclcpp_1_1ClientBase.html">ClientBase</a>)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00128"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#aa85dd4b61a7fb76b9e77c129ca4a324a">  128</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#aa85dd4b61a7fb76b9e77c129ca4a324a">ClientBase</a>(</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <a class="code" href="classrclcpp_1_1node__interfaces_1_1NodeBaseInterface.html">rclcpp::node_interfaces::NodeBaseInterface</a> * node_base,</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    rclcpp::node_interfaces::NodeGraphInterface::SharedPtr node_graph);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a3b6eb6597b106ae0c6b735e9044ece3e">  133</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classrclcpp_1_1ClientBase.html#a3b6eb6597b106ae0c6b735e9044ece3e">~ClientBase</a>();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00154"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a22b06fe837366c08c7a4fa49a24e7fd7">  154</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a22b06fe837366c08c7a4fa49a24e7fd7">take_type_erased_response</a>(<span class="keywordtype">void</span> * response_out, rmw_request_id_t &amp; request_header_out);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160; </div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *</div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#ac232161c9e1a69bb6d96cb4a5d487719">  160</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#ac232161c9e1a69bb6d96cb4a5d487719">get_service_name</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  std::shared_ptr&lt;rcl_client_t&gt;</div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a61cea83f8896e18d925b6aca55009199">  169</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a61cea83f8896e18d925b6aca55009199">get_client_handle</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  std::shared_ptr&lt;const rcl_client_t&gt;</div>
<div class="line"><a name="l00178"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a5ac1d438fdd09e9ba429ab3d9c5ee237">  178</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a5ac1d438fdd09e9ba429ab3d9c5ee237">get_client_handle</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160; </div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a8b4b432338a460ceb26a7fa6ddd59e1d">  186</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a8b4b432338a460ceb26a7fa6ddd59e1d">service_is_ready</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> RepT = <span class="keywordtype">int</span>64_t, <span class="keyword">typename</span> RatioT = std::milli&gt;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00195"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#aa8dc7698de300a0bbf08adb3f766d97f">  195</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#aa8dc7698de300a0bbf08adb3f766d97f">wait_for_service</a>(</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    std::chrono::duration&lt;RepT, RatioT&gt; timeout = std::chrono::duration&lt;RepT, RatioT&gt;(-1))</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classrclcpp_1_1ClientBase.html#a491cc4685782d3a3f3128d87e6df4d0b">wait_for_service_nanoseconds</a>(</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(timeout)</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160; </div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#ad83f47f52ba7f11dd5029b48a920d1f3">  203</a></span>&#160;  <span class="keyword">virtual</span> std::shared_ptr&lt;void&gt; <a class="code" href="classrclcpp_1_1ClientBase.html#ad83f47f52ba7f11dd5029b48a920d1f3">create_response</a>() = 0;</div>
<div class="line"><a name="l00204"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#afd4baacaba527a6dfca7f6611678e0b8">  204</a></span>&#160;  <span class="keyword">virtual</span> std::shared_ptr&lt;rmw_request_id_t&gt; <a class="code" href="classrclcpp_1_1ClientBase.html#afd4baacaba527a6dfca7f6611678e0b8">create_request_header</a>() = 0;</div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a71e38d95c59a830ed2b9778f908afb35">  205</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classrclcpp_1_1ClientBase.html#a71e38d95c59a830ed2b9778f908afb35">handle_response</a>(</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    std::shared_ptr&lt;rmw_request_id_t&gt; request_header, std::shared_ptr&lt;void&gt; response) = 0;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00220"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a66f551fb43ebd4094409434419c48989">  220</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a66f551fb43ebd4094409434419c48989">exchange_in_use_by_wait_set_state</a>(<span class="keywordtype">bool</span> in_use_state);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  <a class="code" href="classrclcpp_1_1QoS.html">rclcpp::QoS</a></div>
<div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#abcf6b11053fa581ff93788c52577a64c">  236</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#abcf6b11053fa581ff93788c52577a64c">get_request_publisher_actual_qos</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="classrclcpp_1_1QoS.html">rclcpp::QoS</a></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#acb08a280bece4b81b8304e33eec945f8">  252</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#acb08a280bece4b81b8304e33eec945f8">get_response_subscription_actual_qos</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a67c90a891657f99761bd79e7e668c684">  281</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a67c90a891657f99761bd79e7e668c684">set_on_new_response_callback</a>(std::function&lt;<span class="keywordtype">void</span>(<span class="keywordtype">size_t</span>)&gt; callback)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="keywordflow">if</span> (!callback) {</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;      <span class="keywordflow">throw</span> std::invalid_argument(</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;              <span class="stringliteral">&quot;The callback passed to set_on_new_response_callback &quot;</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;              <span class="stringliteral">&quot;is not callable.&quot;</span>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160; </div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <span class="keyword">auto</span> new_callback =</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      [callback, <span class="keyword">this</span>](<span class="keywordtype">size_t</span> number_of_responses) {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          callback(number_of_responses);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp; exception) {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;          <a class="code" href="logging_8hpp.html#a7381209d69f9949ec0353921b11e0cd9">RCLCPP_ERROR_STREAM</a>(</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;            <a class="code" href="classrclcpp_1_1ClientBase.html#a40e1a47e85c6c8a4735fc2b2795a4292">node_logger_</a>,</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;            <span class="stringliteral">&quot;rclcpp::ClientBase@&quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;              <span class="stringliteral">&quot; caught &quot;</span> &lt;&lt; rmw::impl::cpp::demangle(exception) &lt;&lt;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;              <span class="stringliteral">&quot; exception in user-provided callback for the &#39;on new response&#39; callback: &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;              exception.what());</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        } <span class="keywordflow">catch</span> (...) {</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;          <a class="code" href="logging_8hpp.html#a7381209d69f9949ec0353921b11e0cd9">RCLCPP_ERROR_STREAM</a>(</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;            <a class="code" href="classrclcpp_1_1ClientBase.html#a40e1a47e85c6c8a4735fc2b2795a4292">node_logger_</a>,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            <span class="stringliteral">&quot;rclcpp::ClientBase@&quot;</span> &lt;&lt; <span class="keyword">this</span> &lt;&lt;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;              <span class="stringliteral">&quot; caught unhandled exception in user-provided callback &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;              <span class="stringliteral">&quot;for the &#39;on new response&#39; callback&quot;</span>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;        }</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;      };</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160; </div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    std::lock_guard&lt;std::recursive_mutex&gt; lock(<a class="code" href="classrclcpp_1_1ClientBase.html#a2ed6ce661d210547ab5b7a8592c1a39c">callback_mutex_</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="comment">// Set it temporarily to the new callback, while we replace the old one.</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// This two-step setting, prevents a gap where the old std::function has</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">// been replaced but the middleware hasn&#39;t been told about the new one yet.</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <a class="code" href="classrclcpp_1_1ClientBase.html#a67c90a891657f99761bd79e7e668c684">set_on_new_response_callback</a>(</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;      rclcpp::detail::cpp_callback_trampoline&lt;const void *, size_t&gt;,</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(&amp;new_callback));</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="comment">// Store the std::function to keep it in scope, also overwrites the existing one.</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="classrclcpp_1_1ClientBase.html#a46bb5c450f000aaa899bfad3fd490742">on_new_response_callback_</a> = new_callback;</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Set it again, now using the permanent storage.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="classrclcpp_1_1ClientBase.html#a67c90a891657f99761bd79e7e668c684">set_on_new_response_callback</a>(</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      rclcpp::detail::cpp_callback_trampoline&lt;const void *, size_t&gt;,</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><span class="keywordtype">void</span> *<span class="keyword">&gt;</span>(&amp;<a class="code" href="classrclcpp_1_1ClientBase.html#a46bb5c450f000aaa899bfad3fd490742">on_new_response_callback_</a>));</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160; </div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00329"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#adcfc4d32314045182090df8b6dd7bf83">  329</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#adcfc4d32314045182090df8b6dd7bf83">clear_on_new_response_callback</a>()</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  {</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    std::lock_guard&lt;std::recursive_mutex&gt; lock(<a class="code" href="classrclcpp_1_1ClientBase.html#a2ed6ce661d210547ab5b7a8592c1a39c">callback_mutex_</a>);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classrclcpp_1_1ClientBase.html#a46bb5c450f000aaa899bfad3fd490742">on_new_response_callback_</a>) {</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;      <a class="code" href="classrclcpp_1_1ClientBase.html#a67c90a891657f99761bd79e7e668c684">set_on_new_response_callback</a>(<span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      <a class="code" href="classrclcpp_1_1ClientBase.html#a46bb5c450f000aaa899bfad3fd490742">on_new_response_callback_</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <a class="code" href="macros_8hpp.html#a0a7b455740daed4f09fe358316b3f582">RCLCPP_DISABLE_COPY</a>(<a class="code" href="classrclcpp_1_1ClientBase.html">ClientBase</a>)</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160; </div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00343"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a491cc4685782d3a3f3128d87e6df4d0b">  343</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a491cc4685782d3a3f3128d87e6df4d0b">wait_for_service_nanoseconds</a>(std::chrono::nanoseconds timeout);</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;  rcl_node_t *</div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a048966495a7b546bba340d69fd124c31">  347</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a048966495a7b546bba340d69fd124c31">get_rcl_node_handle</a>();</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;  <span class="keyword">const</span> rcl_node_t *</div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a4f8b96115d62816c223ef8b9b6d779e2">  351</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a4f8b96115d62816c223ef8b9b6d779e2">get_rcl_node_handle</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;  <a class="code" href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00355"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a7d60dd33159558bf95fbe47c7b12487a">  355</a></span>&#160;  <a class="code" href="classrclcpp_1_1ClientBase.html#a7d60dd33159558bf95fbe47c7b12487a">set_on_new_response_callback</a>(rcl_event_callback_t callback, <span class="keyword">const</span> <span class="keywordtype">void</span> * user_data);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160; </div>
<div class="line"><a name="l00357"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#afea9468a9303b45c82b35b792c432f9b">  357</a></span>&#160;  rclcpp::node_interfaces::NodeGraphInterface::WeakPtr <a class="code" href="classrclcpp_1_1ClientBase.html#afea9468a9303b45c82b35b792c432f9b">node_graph_</a>;</div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a87619c0fd257e3d5cd80219a508a9188">  358</a></span>&#160;  std::shared_ptr&lt;rcl_node_t&gt; <a class="code" href="classrclcpp_1_1ClientBase.html#a87619c0fd257e3d5cd80219a508a9188">node_handle_</a>;</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#aff8a183c003161384b2e8629b5e50233">  359</a></span>&#160;  std::shared_ptr&lt;rclcpp::Context&gt; <a class="code" href="classrclcpp_1_1ClientBase.html#aff8a183c003161384b2e8629b5e50233">context_</a>;</div>
<div class="line"><a name="l00360"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a40e1a47e85c6c8a4735fc2b2795a4292">  360</a></span>&#160;  <a class="code" href="classrclcpp_1_1Logger.html">rclcpp::Logger</a> <a class="code" href="classrclcpp_1_1ClientBase.html#a40e1a47e85c6c8a4735fc2b2795a4292">node_logger_</a>;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#aa30bc127da91c8bbdc1968cac1832466">  362</a></span>&#160;  std::shared_ptr&lt;rcl_client_t&gt; <a class="code" href="classrclcpp_1_1ClientBase.html#aa30bc127da91c8bbdc1968cac1832466">client_handle_</a>;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div>
<div class="line"><a name="l00364"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a528605b062a7018abdbc42d9497c480a">  364</a></span>&#160;  std::atomic&lt;bool&gt; <a class="code" href="classrclcpp_1_1ClientBase.html#a528605b062a7018abdbc42d9497c480a">in_use_by_wait_set_</a>{<span class="keyword">false</span>};</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160; </div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a2ed6ce661d210547ab5b7a8592c1a39c">  366</a></span>&#160;  std::recursive_mutex <a class="code" href="classrclcpp_1_1ClientBase.html#a2ed6ce661d210547ab5b7a8592c1a39c">callback_mutex_</a>;</div>
<div class="line"><a name="l00367"></a><span class="lineno"><a class="line" href="classrclcpp_1_1ClientBase.html#a46bb5c450f000aaa899bfad3fd490742">  367</a></span>&#160;  std::function&lt;void(<span class="keywordtype">size_t</span>)&gt; <a class="code" href="classrclcpp_1_1ClientBase.html#a46bb5c450f000aaa899bfad3fd490742">on_new_response_callback_</a>{<span class="keyword">nullptr</span>};</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;};</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160; </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keyword">template</span>&lt;<span class="keyword">typename</span> ServiceT&gt;</div>
<div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html">  371</a></span>&#160;<span class="keyword">class </span><a class="code" href="classrclcpp_1_1Client.html">Client</a> : <span class="keyword">public</span> <a class="code" href="classrclcpp_1_1ClientBase.html">ClientBase</a></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;{</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00374"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a3bcf07ffc9d2a942cbbb88380dc10a9f">  374</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#a3bcf07ffc9d2a942cbbb88380dc10a9f">Request</a> = <span class="keyword">typename</span> ServiceT::Request;</div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a66bb4ef50b2d55eb3ace5102304267c9">  375</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#a66bb4ef50b2d55eb3ace5102304267c9">Response</a> = <span class="keyword">typename</span> ServiceT::Response;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160; </div>
<div class="line"><a name="l00377"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#acfa72f93a845c3b7deb385f91c4e55be">  377</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#acfa72f93a845c3b7deb385f91c4e55be">SharedRequest</a> = <span class="keyword">typename</span> ServiceT::Request::SharedPtr;</div>
<div class="line"><a name="l00378"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a2d8ad27d92e21548e80a106456e9c701">  378</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#a2d8ad27d92e21548e80a106456e9c701">SharedResponse</a> = <span class="keyword">typename</span> ServiceT::Response::SharedPtr;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160; </div>
<div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ad7ab1c7bc6f3c5f35ca883706a41f000">  380</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#ad7ab1c7bc6f3c5f35ca883706a41f000">Promise</a> = std::promise&lt;SharedResponse&gt;;</div>
<div class="line"><a name="l00381"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#aab2c0b11463f8168b0f3400d330a05b4">  381</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#aab2c0b11463f8168b0f3400d330a05b4">PromiseWithRequest</a> = std::promise&lt;std::pair&lt;SharedRequest, SharedResponse&gt;&gt;;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160; </div>
<div class="line"><a name="l00383"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ad3dfea938e183e9607a3ec0baa822a2f">  383</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#ad3dfea938e183e9607a3ec0baa822a2f">SharedPromise</a> = std::shared_ptr&lt;Promise&gt;;</div>
<div class="line"><a name="l00384"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#aeddb0ec9cdd39c6b0a3508431691a28c">  384</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#aeddb0ec9cdd39c6b0a3508431691a28c">SharedPromiseWithRequest</a> = std::shared_ptr&lt;PromiseWithRequest&gt;;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160; </div>
<div class="line"><a name="l00386"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a2afa79588a6225e4646a06a587603110">  386</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#a2afa79588a6225e4646a06a587603110">Future</a> = std::future&lt;SharedResponse&gt;;</div>
<div class="line"><a name="l00387"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ac7203d297201a83411a4274ccf9a1e2a">  387</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#ac7203d297201a83411a4274ccf9a1e2a">SharedFuture</a> = std::shared_future&lt;SharedResponse&gt;;</div>
<div class="line"><a name="l00388"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#abca86c6b203cd9eab70554d8491d2a67">  388</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#abca86c6b203cd9eab70554d8491d2a67">SharedFutureWithRequest</a> = std::shared_future&lt;std::pair&lt;SharedRequest, SharedResponse&gt;&gt;;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#aa40dc013051306b91b558f4d701214d3">  390</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#aa40dc013051306b91b558f4d701214d3">CallbackType</a> = std::function&lt;void (<a class="code" href="classrclcpp_1_1Client.html#ac7203d297201a83411a4274ccf9a1e2a">SharedFuture</a>)&gt;;</div>
<div class="line"><a name="l00391"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ac45b3da8a45ab490a95418d3c1cff16d">  391</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#ac45b3da8a45ab490a95418d3c1cff16d">CallbackWithRequestType</a> = std::function&lt;void (<a class="code" href="classrclcpp_1_1Client.html#abca86c6b203cd9eab70554d8491d2a67">SharedFutureWithRequest</a>)&gt;;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160; </div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <a class="code" href="macros_8hpp.html#acf7fe89712fbf4410ed29e86b081deaf">RCLCPP_SMART_PTR_DEFINITIONS</a>(<a class="code" href="classrclcpp_1_1Client.html">Client</a>)</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160; </div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  </div>
<div class="line"><a name="l00403"></a><span class="lineno"><a class="line" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html">  403</a></span>&#160;  struct <a class="code" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html">FutureAndRequestId</a></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    : detail::<a class="code" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html">FutureAndRequestId</a>&lt;<a class="code" href="namespacestd.html">std</a>::future&lt;<a class="code" href="classrclcpp_1_1Client.html#a2d8ad27d92e21548e80a106456e9c701">SharedResponse</a>&gt;&gt;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  {</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <span class="keyword">using</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">detail::FutureAndRequestId&lt;std::future&lt;SharedResponse&gt;</a>&gt;<a class="code" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html">::FutureAndRequestId</a>;</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160; </div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    [[deprecated(</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;      <span class="stringliteral">&quot;FutureAndRequestId: use .future.share() instead of an implicit conversion&quot;</span>)]]</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html#a86eade7e3f4633c9733fec830b86e290">  415</a></span>&#160;    <span class="keyword">operator</span> <a class="code" href="classrclcpp_1_1Client.html#ac7203d297201a83411a4274ccf9a1e2a">SharedFuture</a>() {<span class="keywordflow">return</span> this-&gt;future.share();}</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160; </div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">// delegate future like methods in the std::future impl_</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div>
<div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html#a073d917423696520de59cf4a92223a0d">  420</a></span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#ac7203d297201a83411a4274ccf9a1e2a">SharedFuture</a> <a class="code" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html#a073d917423696520de59cf4a92223a0d">share</a>() noexcept {<span class="keywordflow">return</span> this-&gt;future.share();}</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  };</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160; </div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno"><a class="line" href="structrclcpp_1_1Client_1_1SharedFutureAndRequestId.html">  431</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structrclcpp_1_1Client_1_1SharedFutureAndRequestId.html">SharedFutureAndRequestId</a></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    : <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">detail::FutureAndRequestId</a>&lt;std::shared_future&lt;SharedResponse&gt;&gt;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  {</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="keyword">using</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">detail::FutureAndRequestId&lt;std::shared_future&lt;SharedResponse&gt;</a>&gt;<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a7b72e51a6dea5d9760b81a3f14ec764e">::FutureAndRequestId</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  };</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160; </div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160; </div>
<div class="line"><a name="l00445"></a><span class="lineno"><a class="line" href="structrclcpp_1_1Client_1_1SharedFutureWithRequestAndRequestId.html">  445</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structrclcpp_1_1Client_1_1SharedFutureWithRequestAndRequestId.html">SharedFutureWithRequestAndRequestId</a></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    : <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">detail::FutureAndRequestId</a>&lt;std::shared_future&lt;std::pair&lt;SharedRequest, SharedResponse&gt;&gt;&gt;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  {</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keyword">using</span> <a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">detail::FutureAndRequestId</a>&lt;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;      std::shared_future&lt;std::pair&lt;SharedRequest, SharedResponse&gt;&gt;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    &gt;<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a7b72e51a6dea5d9760b81a3f14ec764e">::FutureAndRequestId</a>;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  };</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160; </div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160; </div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ae309a79c40cc329cd6d3360271d1b997">  464</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#ae309a79c40cc329cd6d3360271d1b997">Client</a>(</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <a class="code" href="classrclcpp_1_1node__interfaces_1_1NodeBaseInterface.html">rclcpp::node_interfaces::NodeBaseInterface</a> * node_base,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    rclcpp::node_interfaces::NodeGraphInterface::SharedPtr node_graph,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <span class="keyword">const</span> std::string &amp; service_name,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    rcl_client_options_t &amp; client_options)</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  : <a class="code" href="classrclcpp_1_1ClientBase.html">ClientBase</a>(node_base, node_graph)</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="keyword">using</span> rosidl_typesupport_cpp::get_service_type_support_handle;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keyword">auto</span> service_type_support_handle =</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;      get_service_type_support_handle&lt;ServiceT&gt;();</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    rcl_ret_t ret = rcl_client_init(</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;      this-&gt;<a class="code" href="classrclcpp_1_1ClientBase.html#a61cea83f8896e18d925b6aca55009199">get_client_handle</a>().get(),</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;      this-&gt;<a class="code" href="classrclcpp_1_1ClientBase.html#a048966495a7b546bba340d69fd124c31">get_rcl_node_handle</a>(),</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;      service_type_support_handle,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;      service_name.c_str(),</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;      &amp;client_options);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;    <span class="keywordflow">if</span> (ret != RCL_RET_OK) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      <span class="keywordflow">if</span> (ret == RCL_RET_SERVICE_NAME_INVALID) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;        <span class="keyword">auto</span> rcl_node_handle = this-&gt;<a class="code" href="classrclcpp_1_1ClientBase.html#a048966495a7b546bba340d69fd124c31">get_rcl_node_handle</a>();</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="comment">// this will throw on any validation problem</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;        rcl_reset_error();</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        <a class="code" href="namespacerclcpp.html#a1855b992b1b77f1ed75bab5192aaf2bd">expand_topic_or_service_name</a>(</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;          service_name,</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;          rcl_node_get_name(rcl_node_handle),</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;          rcl_node_get_namespace(rcl_node_handle),</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;          <span class="keyword">true</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <a class="code" href="namespacerclcpp_1_1exceptions.html#a1d5126c081e6f2e015ef4bb1447edec5">rclcpp::exceptions::throw_from_rcl_error</a>(ret, <span class="stringliteral">&quot;could not create client&quot;</span>);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160; </div>
<div class="line"><a name="l00495"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#abb39c469124b9012fbc07ec8fc113237">  495</a></span>&#160;  <span class="keyword">virtual</span> <a class="code" href="classrclcpp_1_1Client.html#abb39c469124b9012fbc07ec8fc113237">~Client</a>()</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;  {</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;  }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160; </div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a01895d118ee1ab910b00de5456a333fc">  513</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a01895d118ee1ab910b00de5456a333fc">take_response</a>(<span class="keyword">typename</span> ServiceT::Response &amp; response_out, rmw_request_id_t &amp; request_header_out)</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  {</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classrclcpp_1_1ClientBase.html#a22b06fe837366c08c7a4fa49a24e7fd7">take_type_erased_response</a>(&amp;response_out, request_header_out);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  }</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  std::shared_ptr&lt;void&gt;</div>
<div class="line"><a name="l00523"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a1f9ef5ef0628e7b00d44733624cdc05b">  523</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a1f9ef5ef0628e7b00d44733624cdc05b">create_response</a>()<span class="keyword"> override</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="keywordflow">return</span> std::shared_ptr&lt;void&gt;(<span class="keyword">new</span> <span class="keyword">typename</span> ServiceT::Response());</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;  std::shared_ptr&lt;rmw_request_id_t&gt;</div>
<div class="line"><a name="l00533"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a0fb948d3ca948d6a5e453ec01f9e5764">  533</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a0fb948d3ca948d6a5e453ec01f9e5764">create_request_header</a>()<span class="keyword"> override</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// TODO(wjwwood): This should probably use rmw_request_id&#39;s allocator.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">//                (since it is a C type)</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">return</span> std::shared_ptr&lt;rmw_request_id_t&gt;(<span class="keyword">new</span> rmw_request_id_t);</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;  }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160; </div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordtype">void</span></div>
<div class="line"><a name="l00546"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a812ead8610b4472f492cc500718fdeab">  546</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a812ead8610b4472f492cc500718fdeab">handle_response</a>(</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    std::shared_ptr&lt;rmw_request_id_t&gt; request_header,</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    std::shared_ptr&lt;void&gt; response)<span class="keyword"> override</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;<span class="keyword">  </span>{</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    std::optional&lt;CallbackInfoVariant&gt;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    optional_pending_request = this-&gt;<a class="code" href="classrclcpp_1_1Client.html#a0177b23fc58476490a882555bd447e43">get_and_erase_pending_request</a>(request_header-&gt;sequence_number);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">if</span> (!optional_pending_request) {</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    <span class="keyword">auto</span> &amp; value = *optional_pending_request;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keyword">auto</span> typed_response = std::static_pointer_cast&lt;typename ServiceT::Response&gt;(</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;      std::move(response));</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="keywordflow">if</span> (std::holds_alternative&lt;Promise&gt;(value)) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;      <span class="keyword">auto</span> &amp; promise = std::get&lt;Promise&gt;(value);</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;      promise.set_value(std::move(typed_response));</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::holds_alternative&lt;CallbackTypeValueVariant&gt;(value)) {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;      <span class="keyword">auto</span> &amp; inner = std::get&lt;CallbackTypeValueVariant&gt;(value);</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp; callback = std::get&lt;CallbackType&gt;(inner);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;      <span class="keyword">auto</span> &amp; promise = std::get&lt;Promise&gt;(inner);</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;      <span class="keyword">auto</span> &amp; future = std::get&lt;SharedFuture&gt;(inner);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;      promise.set_value(std::move(typed_response));</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;      callback(std::move(future));</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::holds_alternative&lt;CallbackWithRequestTypeValueVariant&gt;(value)) {</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;      <span class="keyword">auto</span> &amp; inner = std::get&lt;CallbackWithRequestTypeValueVariant&gt;(value);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;      <span class="keyword">const</span> <span class="keyword">auto</span> &amp; callback = std::get&lt;CallbackWithRequestType&gt;(inner);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;      <span class="keyword">auto</span> &amp; promise = std::get&lt;PromiseWithRequest&gt;(inner);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;      <span class="keyword">auto</span> &amp; future = std::get&lt;SharedFutureWithRequest&gt;(inner);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;      <span class="keyword">auto</span> &amp; request = std::get&lt;SharedRequest&gt;(inner);</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;      promise.set_value(std::make_pair(std::move(request), std::move(typed_response)));</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;      callback(std::move(future));</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  }</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160; </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  FutureAndRequestId</div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a86bdca15c7d87b1a2f8e3e9ef200d015">  608</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a86bdca15c7d87b1a2f8e3e9ef200d015">async_send_request</a>(<a class="code" href="classrclcpp_1_1Client.html#acfa72f93a845c3b7deb385f91c4e55be">SharedRequest</a> request)</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;  {</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#ad7ab1c7bc6f3c5f35ca883706a41f000">Promise</a> promise;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keyword">auto</span> future = promise.get_future();</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keyword">auto</span> req_id = <a class="code" href="classrclcpp_1_1Client.html#a7b3c1fed47967e4b9e8309dd94bed933">async_send_request_impl</a>(</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;      *request,</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;      std::move(promise));</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html">FutureAndRequestId</a>(std::move(future), req_id);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;  }</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160; </div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;  <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="keyword">typename</span> CallbackT,</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keyword">typename</span> std::enable_if&lt;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;      <a class="code" href="structrclcpp_1_1function__traits_1_1same__arguments.html">rclcpp::function_traits::same_arguments</a>&lt;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        CallbackT,</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        <a class="code" href="classrclcpp_1_1Client.html#aa40dc013051306b91b558f4d701214d3">CallbackType</a></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;      &gt;::value</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    &gt;::type * = <span class="keyword">nullptr</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  &gt;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;  SharedFutureAndRequestId</div>
<div class="line"><a name="l00643"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a3fb5531cfc849c54e4071d64ccd7d37d">  643</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a3fb5531cfc849c54e4071d64ccd7d37d">async_send_request</a>(<a class="code" href="classrclcpp_1_1Client.html#acfa72f93a845c3b7deb385f91c4e55be">SharedRequest</a> request, CallbackT &amp;&amp; cb)</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;  {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#ad7ab1c7bc6f3c5f35ca883706a41f000">Promise</a> promise;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keyword">auto</span> shared_future = promise.get_future().share();</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="keyword">auto</span> req_id = <a class="code" href="classrclcpp_1_1Client.html#a7b3c1fed47967e4b9e8309dd94bed933">async_send_request_impl</a>(</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;      *request,</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;      std::make_tuple(</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <a class="code" href="classrclcpp_1_1Client.html#aa40dc013051306b91b558f4d701214d3">CallbackType</a>{std::forward&lt;CallbackT&gt;(cb)},</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        shared_future,</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        std::move(promise)));</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structrclcpp_1_1Client_1_1SharedFutureAndRequestId.html">SharedFutureAndRequestId</a>{std::move(shared_future), req_id};</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160; </div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  <span class="keyword">template</span>&lt;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keyword">typename</span> CallbackT,</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keyword">typename</span> std::enable_if&lt;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;      <a class="code" href="structrclcpp_1_1function__traits_1_1same__arguments.html">rclcpp::function_traits::same_arguments</a>&lt;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        CallbackT,</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <a class="code" href="classrclcpp_1_1Client.html#ac45b3da8a45ab490a95418d3c1cff16d">CallbackWithRequestType</a></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;      &gt;::value</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    &gt;::type * = <span class="keyword">nullptr</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  &gt;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  SharedFutureWithRequestAndRequestId</div>
<div class="line"><a name="l00674"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a3dd639d81461426f49ff3899726f92db">  674</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a3dd639d81461426f49ff3899726f92db">async_send_request</a>(<a class="code" href="classrclcpp_1_1Client.html#acfa72f93a845c3b7deb385f91c4e55be">SharedRequest</a> request, CallbackT &amp;&amp; cb)</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  {</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#aab2c0b11463f8168b0f3400d330a05b4">PromiseWithRequest</a> promise;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keyword">auto</span> shared_future = promise.get_future().share();</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keyword">auto</span> req_id = <a class="code" href="classrclcpp_1_1Client.html#a7b3c1fed47967e4b9e8309dd94bed933">async_send_request_impl</a>(</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      *request,</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      std::make_tuple(</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="classrclcpp_1_1Client.html#ac45b3da8a45ab490a95418d3c1cff16d">CallbackWithRequestType</a>{std::forward&lt;CallbackT&gt;(cb)},</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        request,</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        shared_future,</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        std::move(promise)));</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="structrclcpp_1_1Client_1_1SharedFutureWithRequestAndRequestId.html">SharedFutureWithRequestAndRequestId</a>{std::move(shared_future), req_id};</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  }</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160; </div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00700"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a1641eefad1f08374ade1c1d81d4291a3">  700</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a1641eefad1f08374ade1c1d81d4291a3">remove_pending_request</a>(int64_t request_id)</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;  {</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    std::lock_guard guard(<a class="code" href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">pending_requests_mutex_</a>);</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.erase(request_id) != 0u;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  }</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160; </div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160; </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#af7eb54a9a4c8eb6a908b41663395b77d">  713</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#af7eb54a9a4c8eb6a908b41663395b77d">remove_pending_request</a>(<span class="keyword">const</span> <a class="code" href="structrclcpp_1_1Client_1_1FutureAndRequestId.html">FutureAndRequestId</a> &amp; future)</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  {</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classrclcpp_1_1Client.html#a1641eefad1f08374ade1c1d81d4291a3">remove_pending_request</a>(future.<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a62cb5697076cd0e5db9f1cc254f7cf74">request_id</a>);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  }</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160; </div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00725"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a94df4a53c920ef8a6e5b2b5a9c4dc8c6">  725</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a94df4a53c920ef8a6e5b2b5a9c4dc8c6">remove_pending_request</a>(<span class="keyword">const</span> <a class="code" href="structrclcpp_1_1Client_1_1SharedFutureAndRequestId.html">SharedFutureAndRequestId</a> &amp; future)</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  {</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classrclcpp_1_1Client.html#a1641eefad1f08374ade1c1d81d4291a3">remove_pending_request</a>(future.<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a62cb5697076cd0e5db9f1cc254f7cf74">request_id</a>);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;  }</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160; </div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  <span class="keywordtype">bool</span></div>
<div class="line"><a name="l00737"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ab0ce3cbf0e7abbc649db5e94d30302ff">  737</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#ab0ce3cbf0e7abbc649db5e94d30302ff">remove_pending_request</a>(<span class="keyword">const</span> <a class="code" href="structrclcpp_1_1Client_1_1SharedFutureWithRequestAndRequestId.html">SharedFutureWithRequestAndRequestId</a> &amp; future)</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classrclcpp_1_1Client.html#a1641eefad1f08374ade1c1d81d4291a3">remove_pending_request</a>(future.<a class="code" href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a62cb5697076cd0e5db9f1cc254f7cf74">request_id</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;  }</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160; </div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160; </div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;  <span class="keywordtype">size_t</span></div>
<div class="line"><a name="l00747"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a8b56c5415d2c812b32f26de1123b8c83">  747</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a8b56c5415d2c812b32f26de1123b8c83">prune_pending_requests</a>()</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;  {</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    std::lock_guard guard(<a class="code" href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">pending_requests_mutex_</a>);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="keyword">auto</span> ret = <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.size();</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.clear();</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160; </div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> AllocatorT = std::allocator&lt;<span class="keywordtype">int</span>64_t&gt;&gt;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <span class="keywordtype">size_t</span></div>
<div class="line"><a name="l00764"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a22d048bb731fc656a972b0e324b3f82d">  764</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a22d048bb731fc656a972b0e324b3f82d">prune_requests_older_than</a>(</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    std::chrono::time_point&lt;std::chrono::system_clock&gt; time_point,</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    std::vector&lt;int64_t, AllocatorT&gt; * pruned_requests = <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  {</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    std::lock_guard guard(<a class="code" href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">pending_requests_mutex_</a>);</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keyword">auto</span> old_size = <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.size();</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.begin(), last = <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.end(); it != last; ) {</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;      <span class="keywordflow">if</span> (it-&gt;second.first &lt; time_point) {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        pruned_requests-&gt;push_back(it-&gt;first);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        it = <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.erase(it);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        ++it;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      }</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    }</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">return</span> old_size - <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.size();</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  }</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160; </div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00782"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#aa507a477d13f509c089d7ba037bba2ae">  782</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#aa507a477d13f509c089d7ba037bba2ae">CallbackTypeValueVariant</a> = std::tuple&lt;CallbackType, SharedFuture, Promise&gt;;</div>
<div class="line"><a name="l00783"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a9c085b7772d2de839f0a651da2d1f2c2">  783</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#a9c085b7772d2de839f0a651da2d1f2c2">CallbackWithRequestTypeValueVariant</a> = std::tuple&lt;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#ac45b3da8a45ab490a95418d3c1cff16d">CallbackWithRequestType</a>, <a class="code" href="classrclcpp_1_1Client.html#acfa72f93a845c3b7deb385f91c4e55be">SharedRequest</a>, <a class="code" href="classrclcpp_1_1Client.html#abca86c6b203cd9eab70554d8491d2a67">SharedFutureWithRequest</a>, <a class="code" href="classrclcpp_1_1Client.html#aab2c0b11463f8168b0f3400d330a05b4">PromiseWithRequest</a>&gt;;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160; </div>
<div class="line"><a name="l00786"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ad4c7c97b20a3542c3079473d951b4c8e">  786</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classrclcpp_1_1Client.html#ad4c7c97b20a3542c3079473d951b4c8e">CallbackInfoVariant</a> = std::variant&lt;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    std::promise&lt;SharedResponse&gt;,</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#aa507a477d13f509c089d7ba037bba2ae">CallbackTypeValueVariant</a>,</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="classrclcpp_1_1Client.html#a9c085b7772d2de839f0a651da2d1f2c2">CallbackWithRequestTypeValueVariant</a>&gt;;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160; </div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  int64_t</div>
<div class="line"><a name="l00792"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a7b3c1fed47967e4b9e8309dd94bed933">  792</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a7b3c1fed47967e4b9e8309dd94bed933">async_send_request_impl</a>(<span class="keyword">const</span> <a class="code" href="classrclcpp_1_1Client.html#a3bcf07ffc9d2a942cbbb88380dc10a9f">Request</a> &amp; request, <a class="code" href="classrclcpp_1_1Client.html#ad4c7c97b20a3542c3079473d951b4c8e">CallbackInfoVariant</a> value)</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  {</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    int64_t sequence_number;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    rcl_ret_t ret = rcl_send_request(<a class="code" href="classrclcpp_1_1ClientBase.html#a61cea83f8896e18d925b6aca55009199">get_client_handle</a>().get(), &amp;request, &amp;sequence_number);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="keywordflow">if</span> (RCL_RET_OK != ret) {</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;      <a class="code" href="namespacerclcpp_1_1exceptions.html#a1d5126c081e6f2e015ef4bb1447edec5">rclcpp::exceptions::throw_from_rcl_error</a>(ret, <span class="stringliteral">&quot;failed to send request&quot;</span>);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    }</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    {</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;      std::lock_guard&lt;std::mutex&gt; lock(<a class="code" href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">pending_requests_mutex_</a>);</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;      <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.try_emplace(</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        sequence_number,</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        std::make_pair(std::chrono::system_clock::now(), std::move(value)));</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    }</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    <span class="keywordflow">return</span> sequence_number;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  }</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160; </div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  std::optional&lt;CallbackInfoVariant&gt;</div>
<div class="line"><a name="l00809"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a0177b23fc58476490a882555bd447e43">  809</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a0177b23fc58476490a882555bd447e43">get_and_erase_pending_request</a>(int64_t request_number)</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  {</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    std::unique_lock&lt;std::mutex&gt; lock(<a class="code" href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">pending_requests_mutex_</a>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keyword">auto</span> it = this-&gt;<a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.find(request_number);</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="keywordflow">if</span> (it == this-&gt;<a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.end()) {</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;      RCUTILS_LOG_DEBUG_NAMED(</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="stringliteral">&quot;rclcpp&quot;</span>,</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="stringliteral">&quot;Received invalid sequence number. Ignoring...&quot;</span>);</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;      <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    }</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keyword">auto</span> value = std::move(it-&gt;second.second);</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    this-&gt;<a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>.erase(request_number);</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    <span class="keywordflow">return</span> value;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;  }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160; </div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;  <a class="code" href="macros_8hpp.html#a0a7b455740daed4f09fe358316b3f582">RCLCPP_DISABLE_COPY</a>(<a class="code" href="classrclcpp_1_1Client.html">Client</a>)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160; </div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  std::unordered_map&lt;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    int64_t,</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    std::pair&lt;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;      std::chrono::time_point&lt;std::chrono::system_clock&gt;,</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;      <a class="code" href="classrclcpp_1_1Client.html#ad4c7c97b20a3542c3079473d951b4c8e">CallbackInfoVariant</a>&gt;&gt;</div>
<div class="line"><a name="l00831"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">  831</a></span>&#160;  <a class="code" href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">pending_requests_</a>;</div>
<div class="line"><a name="l00832"></a><span class="lineno"><a class="line" href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">  832</a></span>&#160;  std::mutex <a class="code" href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">pending_requests_mutex_</a>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;};</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160; </div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}  <span class="comment">// namespace rclcpp</span></div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160; </div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// RCLCPP__CLIENT_HPP_</span></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html">rclcpp::ClientBase</a></div><div class="ttdef"><b>Definition:</b> client.hpp:123</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a048966495a7b546bba340d69fd124c31"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a048966495a7b546bba340d69fd124c31">rclcpp::ClientBase::get_rcl_node_handle</a></div><div class="ttdeci">rcl_node_t * get_rcl_node_handle()</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a22b06fe837366c08c7a4fa49a24e7fd7"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a22b06fe837366c08c7a4fa49a24e7fd7">rclcpp::ClientBase::take_type_erased_response</a></div><div class="ttdeci">bool take_type_erased_response(void *response_out, rmw_request_id_t &amp;request_header_out)</div><div class="ttdoc">Take the next response for this client as a type erased pointer.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a2ed6ce661d210547ab5b7a8592c1a39c"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a2ed6ce661d210547ab5b7a8592c1a39c">rclcpp::ClientBase::callback_mutex_</a></div><div class="ttdeci">std::recursive_mutex callback_mutex_</div><div class="ttdef"><b>Definition:</b> client.hpp:366</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a3b6eb6597b106ae0c6b735e9044ece3e"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a3b6eb6597b106ae0c6b735e9044ece3e">rclcpp::ClientBase::~ClientBase</a></div><div class="ttdeci">virtual ~ClientBase()</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a40e1a47e85c6c8a4735fc2b2795a4292"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a40e1a47e85c6c8a4735fc2b2795a4292">rclcpp::ClientBase::node_logger_</a></div><div class="ttdeci">rclcpp::Logger node_logger_</div><div class="ttdef"><b>Definition:</b> client.hpp:360</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a46bb5c450f000aaa899bfad3fd490742"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a46bb5c450f000aaa899bfad3fd490742">rclcpp::ClientBase::on_new_response_callback_</a></div><div class="ttdeci">std::function&lt; void(size_t)&gt; on_new_response_callback_</div><div class="ttdef"><b>Definition:</b> client.hpp:367</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a491cc4685782d3a3f3128d87e6df4d0b"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a491cc4685782d3a3f3128d87e6df4d0b">rclcpp::ClientBase::wait_for_service_nanoseconds</a></div><div class="ttdeci">bool wait_for_service_nanoseconds(std::chrono::nanoseconds timeout)</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a4f8b96115d62816c223ef8b9b6d779e2"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a4f8b96115d62816c223ef8b9b6d779e2">rclcpp::ClientBase::get_rcl_node_handle</a></div><div class="ttdeci">const rcl_node_t * get_rcl_node_handle() const</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a528605b062a7018abdbc42d9497c480a"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a528605b062a7018abdbc42d9497c480a">rclcpp::ClientBase::in_use_by_wait_set_</a></div><div class="ttdeci">std::atomic&lt; bool &gt; in_use_by_wait_set_</div><div class="ttdef"><b>Definition:</b> client.hpp:364</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a5ac1d438fdd09e9ba429ab3d9c5ee237"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a5ac1d438fdd09e9ba429ab3d9c5ee237">rclcpp::ClientBase::get_client_handle</a></div><div class="ttdeci">std::shared_ptr&lt; const rcl_client_t &gt; get_client_handle() const</div><div class="ttdoc">Return the rcl_client_t client handle in a std::shared_ptr.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a61cea83f8896e18d925b6aca55009199"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a61cea83f8896e18d925b6aca55009199">rclcpp::ClientBase::get_client_handle</a></div><div class="ttdeci">std::shared_ptr&lt; rcl_client_t &gt; get_client_handle()</div><div class="ttdoc">Return the rcl_client_t client handle in a std::shared_ptr.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a66f551fb43ebd4094409434419c48989"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a66f551fb43ebd4094409434419c48989">rclcpp::ClientBase::exchange_in_use_by_wait_set_state</a></div><div class="ttdeci">bool exchange_in_use_by_wait_set_state(bool in_use_state)</div><div class="ttdoc">Exchange the &quot;in use by wait set&quot; state for this client.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a67c90a891657f99761bd79e7e668c684"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a67c90a891657f99761bd79e7e668c684">rclcpp::ClientBase::set_on_new_response_callback</a></div><div class="ttdeci">void set_on_new_response_callback(std::function&lt; void(size_t)&gt; callback)</div><div class="ttdoc">Set a callback to be called when each new response is received.</div><div class="ttdef"><b>Definition:</b> client.hpp:281</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a71e38d95c59a830ed2b9778f908afb35"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a71e38d95c59a830ed2b9778f908afb35">rclcpp::ClientBase::handle_response</a></div><div class="ttdeci">virtual void handle_response(std::shared_ptr&lt; rmw_request_id_t &gt; request_header, std::shared_ptr&lt; void &gt; response)=0</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a7d60dd33159558bf95fbe47c7b12487a"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a7d60dd33159558bf95fbe47c7b12487a">rclcpp::ClientBase::set_on_new_response_callback</a></div><div class="ttdeci">void set_on_new_response_callback(rcl_event_callback_t callback, const void *user_data)</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a87619c0fd257e3d5cd80219a508a9188"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a87619c0fd257e3d5cd80219a508a9188">rclcpp::ClientBase::node_handle_</a></div><div class="ttdeci">std::shared_ptr&lt; rcl_node_t &gt; node_handle_</div><div class="ttdef"><b>Definition:</b> client.hpp:358</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_a8b4b432338a460ceb26a7fa6ddd59e1d"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#a8b4b432338a460ceb26a7fa6ddd59e1d">rclcpp::ClientBase::service_is_ready</a></div><div class="ttdeci">bool service_is_ready() const</div><div class="ttdoc">Return if the service is ready.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_aa30bc127da91c8bbdc1968cac1832466"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#aa30bc127da91c8bbdc1968cac1832466">rclcpp::ClientBase::client_handle_</a></div><div class="ttdeci">std::shared_ptr&lt; rcl_client_t &gt; client_handle_</div><div class="ttdef"><b>Definition:</b> client.hpp:362</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_aa85dd4b61a7fb76b9e77c129ca4a324a"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#aa85dd4b61a7fb76b9e77c129ca4a324a">rclcpp::ClientBase::ClientBase</a></div><div class="ttdeci">ClientBase(rclcpp::node_interfaces::NodeBaseInterface *node_base, rclcpp::node_interfaces::NodeGraphInterface::SharedPtr node_graph)</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_aa8dc7698de300a0bbf08adb3f766d97f"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#aa8dc7698de300a0bbf08adb3f766d97f">rclcpp::ClientBase::wait_for_service</a></div><div class="ttdeci">bool wait_for_service(std::chrono::duration&lt; RepT, RatioT &gt; timeout=std::chrono::duration&lt; RepT, RatioT &gt;(-1))</div><div class="ttdoc">Wait for a service to be ready.</div><div class="ttdef"><b>Definition:</b> client.hpp:195</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_abcf6b11053fa581ff93788c52577a64c"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#abcf6b11053fa581ff93788c52577a64c">rclcpp::ClientBase::get_request_publisher_actual_qos</a></div><div class="ttdeci">rclcpp::QoS get_request_publisher_actual_qos() const</div><div class="ttdoc">Get the actual request publsher QoS settings, after the defaults have been determined.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_ac232161c9e1a69bb6d96cb4a5d487719"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#ac232161c9e1a69bb6d96cb4a5d487719">rclcpp::ClientBase::get_service_name</a></div><div class="ttdeci">const char * get_service_name() const</div><div class="ttdoc">Return the name of the service.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_acb08a280bece4b81b8304e33eec945f8"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#acb08a280bece4b81b8304e33eec945f8">rclcpp::ClientBase::get_response_subscription_actual_qos</a></div><div class="ttdeci">rclcpp::QoS get_response_subscription_actual_qos() const</div><div class="ttdoc">Get the actual response subscription QoS settings, after the defaults have been determined.</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_ad83f47f52ba7f11dd5029b48a920d1f3"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#ad83f47f52ba7f11dd5029b48a920d1f3">rclcpp::ClientBase::create_response</a></div><div class="ttdeci">virtual std::shared_ptr&lt; void &gt; create_response()=0</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_adcfc4d32314045182090df8b6dd7bf83"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#adcfc4d32314045182090df8b6dd7bf83">rclcpp::ClientBase::clear_on_new_response_callback</a></div><div class="ttdeci">void clear_on_new_response_callback()</div><div class="ttdoc">Unset the callback registered for new responses, if any.</div><div class="ttdef"><b>Definition:</b> client.hpp:329</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_afd4baacaba527a6dfca7f6611678e0b8"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#afd4baacaba527a6dfca7f6611678e0b8">rclcpp::ClientBase::create_request_header</a></div><div class="ttdeci">virtual std::shared_ptr&lt; rmw_request_id_t &gt; create_request_header()=0</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_afea9468a9303b45c82b35b792c432f9b"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#afea9468a9303b45c82b35b792c432f9b">rclcpp::ClientBase::node_graph_</a></div><div class="ttdeci">rclcpp::node_interfaces::NodeGraphInterface::WeakPtr node_graph_</div><div class="ttdef"><b>Definition:</b> client.hpp:357</div></div>
<div class="ttc" id="aclassrclcpp_1_1ClientBase_html_aff8a183c003161384b2e8629b5e50233"><div class="ttname"><a href="classrclcpp_1_1ClientBase.html#aff8a183c003161384b2e8629b5e50233">rclcpp::ClientBase::context_</a></div><div class="ttdeci">std::shared_ptr&lt; rclcpp::Context &gt; context_</div><div class="ttdef"><b>Definition:</b> client.hpp:359</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html"><div class="ttname"><a href="classrclcpp_1_1Client.html">rclcpp::Client</a></div><div class="ttdef"><b>Definition:</b> client.hpp:372</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a0177b23fc58476490a882555bd447e43"><div class="ttname"><a href="classrclcpp_1_1Client.html#a0177b23fc58476490a882555bd447e43">rclcpp::Client::get_and_erase_pending_request</a></div><div class="ttdeci">std::optional&lt; CallbackInfoVariant &gt; get_and_erase_pending_request(int64_t request_number)</div><div class="ttdef"><b>Definition:</b> client.hpp:809</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a01895d118ee1ab910b00de5456a333fc"><div class="ttname"><a href="classrclcpp_1_1Client.html#a01895d118ee1ab910b00de5456a333fc">rclcpp::Client::take_response</a></div><div class="ttdeci">bool take_response(typename ServiceT::Response &amp;response_out, rmw_request_id_t &amp;request_header_out)</div><div class="ttdoc">Take the next response for this client.</div><div class="ttdef"><b>Definition:</b> client.hpp:513</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a0fb948d3ca948d6a5e453ec01f9e5764"><div class="ttname"><a href="classrclcpp_1_1Client.html#a0fb948d3ca948d6a5e453ec01f9e5764">rclcpp::Client::create_request_header</a></div><div class="ttdeci">std::shared_ptr&lt; rmw_request_id_t &gt; create_request_header() override</div><div class="ttdoc">Create a shared pointer with a rmw_request_id_t.</div><div class="ttdef"><b>Definition:</b> client.hpp:533</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a1641eefad1f08374ade1c1d81d4291a3"><div class="ttname"><a href="classrclcpp_1_1Client.html#a1641eefad1f08374ade1c1d81d4291a3">rclcpp::Client::remove_pending_request</a></div><div class="ttdeci">bool remove_pending_request(int64_t request_id)</div><div class="ttdoc">Cleanup a pending request.</div><div class="ttdef"><b>Definition:</b> client.hpp:700</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a1f9ef5ef0628e7b00d44733624cdc05b"><div class="ttname"><a href="classrclcpp_1_1Client.html#a1f9ef5ef0628e7b00d44733624cdc05b">rclcpp::Client::create_response</a></div><div class="ttdeci">std::shared_ptr&lt; void &gt; create_response() override</div><div class="ttdoc">Create a shared pointer with the response type.</div><div class="ttdef"><b>Definition:</b> client.hpp:523</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a22d048bb731fc656a972b0e324b3f82d"><div class="ttname"><a href="classrclcpp_1_1Client.html#a22d048bb731fc656a972b0e324b3f82d">rclcpp::Client::prune_requests_older_than</a></div><div class="ttdeci">size_t prune_requests_older_than(std::chrono::time_point&lt; std::chrono::system_clock &gt; time_point, std::vector&lt; int64_t, AllocatorT &gt; *pruned_requests=nullptr)</div><div class="ttdoc">Clean all pending requests older than a time_point.</div><div class="ttdef"><b>Definition:</b> client.hpp:764</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a2afa79588a6225e4646a06a587603110"><div class="ttname"><a href="classrclcpp_1_1Client.html#a2afa79588a6225e4646a06a587603110">rclcpp::Client::Future</a></div><div class="ttdeci">std::future&lt; SharedResponse &gt; Future</div><div class="ttdef"><b>Definition:</b> client.hpp:386</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a2d8ad27d92e21548e80a106456e9c701"><div class="ttname"><a href="classrclcpp_1_1Client.html#a2d8ad27d92e21548e80a106456e9c701">rclcpp::Client::SharedResponse</a></div><div class="ttdeci">typename ServiceT::Response::SharedPtr SharedResponse</div><div class="ttdef"><b>Definition:</b> client.hpp:378</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a3bcf07ffc9d2a942cbbb88380dc10a9f"><div class="ttname"><a href="classrclcpp_1_1Client.html#a3bcf07ffc9d2a942cbbb88380dc10a9f">rclcpp::Client::Request</a></div><div class="ttdeci">typename ServiceT::Request Request</div><div class="ttdef"><b>Definition:</b> client.hpp:374</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a3dd639d81461426f49ff3899726f92db"><div class="ttname"><a href="classrclcpp_1_1Client.html#a3dd639d81461426f49ff3899726f92db">rclcpp::Client::async_send_request</a></div><div class="ttdeci">SharedFutureWithRequestAndRequestId async_send_request(SharedRequest request, CallbackT &amp;&amp;cb)</div><div class="ttdoc">Send a request to the service server and schedule a callback in the executor.</div><div class="ttdef"><b>Definition:</b> client.hpp:674</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a3fb5531cfc849c54e4071d64ccd7d37d"><div class="ttname"><a href="classrclcpp_1_1Client.html#a3fb5531cfc849c54e4071d64ccd7d37d">rclcpp::Client::async_send_request</a></div><div class="ttdeci">SharedFutureAndRequestId async_send_request(SharedRequest request, CallbackT &amp;&amp;cb)</div><div class="ttdoc">Send a request to the service server and schedule a callback in the executor.</div><div class="ttdef"><b>Definition:</b> client.hpp:643</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a66bb4ef50b2d55eb3ace5102304267c9"><div class="ttname"><a href="classrclcpp_1_1Client.html#a66bb4ef50b2d55eb3ace5102304267c9">rclcpp::Client::Response</a></div><div class="ttdeci">typename ServiceT::Response Response</div><div class="ttdef"><b>Definition:</b> client.hpp:375</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a7416f48b1cb4a9ac0b2dc1c0ebdb01e5"><div class="ttname"><a href="classrclcpp_1_1Client.html#a7416f48b1cb4a9ac0b2dc1c0ebdb01e5">rclcpp::Client::pending_requests_</a></div><div class="ttdeci">std::unordered_map&lt; int64_t, std::pair&lt; std::chrono::time_point&lt; std::chrono::system_clock &gt;, CallbackInfoVariant &gt; &gt; pending_requests_</div><div class="ttdef"><b>Definition:</b> client.hpp:831</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a7b3c1fed47967e4b9e8309dd94bed933"><div class="ttname"><a href="classrclcpp_1_1Client.html#a7b3c1fed47967e4b9e8309dd94bed933">rclcpp::Client::async_send_request_impl</a></div><div class="ttdeci">int64_t async_send_request_impl(const Request &amp;request, CallbackInfoVariant value)</div><div class="ttdef"><b>Definition:</b> client.hpp:792</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a812ead8610b4472f492cc500718fdeab"><div class="ttname"><a href="classrclcpp_1_1Client.html#a812ead8610b4472f492cc500718fdeab">rclcpp::Client::handle_response</a></div><div class="ttdeci">void handle_response(std::shared_ptr&lt; rmw_request_id_t &gt; request_header, std::shared_ptr&lt; void &gt; response) override</div><div class="ttdoc">Handle a server response.</div><div class="ttdef"><b>Definition:</b> client.hpp:546</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a86bdca15c7d87b1a2f8e3e9ef200d015"><div class="ttname"><a href="classrclcpp_1_1Client.html#a86bdca15c7d87b1a2f8e3e9ef200d015">rclcpp::Client::async_send_request</a></div><div class="ttdeci">FutureAndRequestId async_send_request(SharedRequest request)</div><div class="ttdoc">Send a request to the service server.</div><div class="ttdef"><b>Definition:</b> client.hpp:608</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a8b56c5415d2c812b32f26de1123b8c83"><div class="ttname"><a href="classrclcpp_1_1Client.html#a8b56c5415d2c812b32f26de1123b8c83">rclcpp::Client::prune_pending_requests</a></div><div class="ttdeci">size_t prune_pending_requests()</div><div class="ttdoc">Clean all pending requests.</div><div class="ttdef"><b>Definition:</b> client.hpp:747</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a94df4a53c920ef8a6e5b2b5a9c4dc8c6"><div class="ttname"><a href="classrclcpp_1_1Client.html#a94df4a53c920ef8a6e5b2b5a9c4dc8c6">rclcpp::Client::remove_pending_request</a></div><div class="ttdeci">bool remove_pending_request(const SharedFutureAndRequestId &amp;future)</div><div class="ttdoc">Cleanup a pending request.</div><div class="ttdef"><b>Definition:</b> client.hpp:725</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_a9c085b7772d2de839f0a651da2d1f2c2"><div class="ttname"><a href="classrclcpp_1_1Client.html#a9c085b7772d2de839f0a651da2d1f2c2">rclcpp::Client::CallbackWithRequestTypeValueVariant</a></div><div class="ttdeci">std::tuple&lt; CallbackWithRequestType, SharedRequest, SharedFutureWithRequest, PromiseWithRequest &gt; CallbackWithRequestTypeValueVariant</div><div class="ttdef"><b>Definition:</b> client.hpp:784</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_aa40dc013051306b91b558f4d701214d3"><div class="ttname"><a href="classrclcpp_1_1Client.html#aa40dc013051306b91b558f4d701214d3">rclcpp::Client::CallbackType</a></div><div class="ttdeci">std::function&lt; void(SharedFuture)&gt; CallbackType</div><div class="ttdef"><b>Definition:</b> client.hpp:390</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_aa507a477d13f509c089d7ba037bba2ae"><div class="ttname"><a href="classrclcpp_1_1Client.html#aa507a477d13f509c089d7ba037bba2ae">rclcpp::Client::CallbackTypeValueVariant</a></div><div class="ttdeci">std::tuple&lt; CallbackType, SharedFuture, Promise &gt; CallbackTypeValueVariant</div><div class="ttdef"><b>Definition:</b> client.hpp:782</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_aab2c0b11463f8168b0f3400d330a05b4"><div class="ttname"><a href="classrclcpp_1_1Client.html#aab2c0b11463f8168b0f3400d330a05b4">rclcpp::Client::PromiseWithRequest</a></div><div class="ttdeci">std::promise&lt; std::pair&lt; SharedRequest, SharedResponse &gt; &gt; PromiseWithRequest</div><div class="ttdef"><b>Definition:</b> client.hpp:381</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ab0ce3cbf0e7abbc649db5e94d30302ff"><div class="ttname"><a href="classrclcpp_1_1Client.html#ab0ce3cbf0e7abbc649db5e94d30302ff">rclcpp::Client::remove_pending_request</a></div><div class="ttdeci">bool remove_pending_request(const SharedFutureWithRequestAndRequestId &amp;future)</div><div class="ttdoc">Cleanup a pending request.</div><div class="ttdef"><b>Definition:</b> client.hpp:737</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_abb39c469124b9012fbc07ec8fc113237"><div class="ttname"><a href="classrclcpp_1_1Client.html#abb39c469124b9012fbc07ec8fc113237">rclcpp::Client::~Client</a></div><div class="ttdeci">virtual ~Client()</div><div class="ttdef"><b>Definition:</b> client.hpp:495</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_abca86c6b203cd9eab70554d8491d2a67"><div class="ttname"><a href="classrclcpp_1_1Client.html#abca86c6b203cd9eab70554d8491d2a67">rclcpp::Client::SharedFutureWithRequest</a></div><div class="ttdeci">std::shared_future&lt; std::pair&lt; SharedRequest, SharedResponse &gt; &gt; SharedFutureWithRequest</div><div class="ttdef"><b>Definition:</b> client.hpp:388</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ac45b3da8a45ab490a95418d3c1cff16d"><div class="ttname"><a href="classrclcpp_1_1Client.html#ac45b3da8a45ab490a95418d3c1cff16d">rclcpp::Client::CallbackWithRequestType</a></div><div class="ttdeci">std::function&lt; void(SharedFutureWithRequest)&gt; CallbackWithRequestType</div><div class="ttdef"><b>Definition:</b> client.hpp:391</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ac7203d297201a83411a4274ccf9a1e2a"><div class="ttname"><a href="classrclcpp_1_1Client.html#ac7203d297201a83411a4274ccf9a1e2a">rclcpp::Client::SharedFuture</a></div><div class="ttdeci">std::shared_future&lt; SharedResponse &gt; SharedFuture</div><div class="ttdef"><b>Definition:</b> client.hpp:387</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_acfa72f93a845c3b7deb385f91c4e55be"><div class="ttname"><a href="classrclcpp_1_1Client.html#acfa72f93a845c3b7deb385f91c4e55be">rclcpp::Client::SharedRequest</a></div><div class="ttdeci">typename ServiceT::Request::SharedPtr SharedRequest</div><div class="ttdef"><b>Definition:</b> client.hpp:377</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ad3dfea938e183e9607a3ec0baa822a2f"><div class="ttname"><a href="classrclcpp_1_1Client.html#ad3dfea938e183e9607a3ec0baa822a2f">rclcpp::Client::SharedPromise</a></div><div class="ttdeci">std::shared_ptr&lt; Promise &gt; SharedPromise</div><div class="ttdef"><b>Definition:</b> client.hpp:383</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ad4c7c97b20a3542c3079473d951b4c8e"><div class="ttname"><a href="classrclcpp_1_1Client.html#ad4c7c97b20a3542c3079473d951b4c8e">rclcpp::Client::CallbackInfoVariant</a></div><div class="ttdeci">std::variant&lt; std::promise&lt; SharedResponse &gt;, CallbackTypeValueVariant, CallbackWithRequestTypeValueVariant &gt; CallbackInfoVariant</div><div class="ttdef"><b>Definition:</b> client.hpp:789</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ad7ab1c7bc6f3c5f35ca883706a41f000"><div class="ttname"><a href="classrclcpp_1_1Client.html#ad7ab1c7bc6f3c5f35ca883706a41f000">rclcpp::Client::Promise</a></div><div class="ttdeci">std::promise&lt; SharedResponse &gt; Promise</div><div class="ttdef"><b>Definition:</b> client.hpp:380</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ad8332fae2f2a245183625c576669ae95"><div class="ttname"><a href="classrclcpp_1_1Client.html#ad8332fae2f2a245183625c576669ae95">rclcpp::Client::pending_requests_mutex_</a></div><div class="ttdeci">std::mutex pending_requests_mutex_</div><div class="ttdef"><b>Definition:</b> client.hpp:832</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_ae309a79c40cc329cd6d3360271d1b997"><div class="ttname"><a href="classrclcpp_1_1Client.html#ae309a79c40cc329cd6d3360271d1b997">rclcpp::Client::Client</a></div><div class="ttdeci">Client(rclcpp::node_interfaces::NodeBaseInterface *node_base, rclcpp::node_interfaces::NodeGraphInterface::SharedPtr node_graph, const std::string &amp;service_name, rcl_client_options_t &amp;client_options)</div><div class="ttdoc">Default constructor.</div><div class="ttdef"><b>Definition:</b> client.hpp:464</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_aeddb0ec9cdd39c6b0a3508431691a28c"><div class="ttname"><a href="classrclcpp_1_1Client.html#aeddb0ec9cdd39c6b0a3508431691a28c">rclcpp::Client::SharedPromiseWithRequest</a></div><div class="ttdeci">std::shared_ptr&lt; PromiseWithRequest &gt; SharedPromiseWithRequest</div><div class="ttdef"><b>Definition:</b> client.hpp:384</div></div>
<div class="ttc" id="aclassrclcpp_1_1Client_html_af7eb54a9a4c8eb6a908b41663395b77d"><div class="ttname"><a href="classrclcpp_1_1Client.html#af7eb54a9a4c8eb6a908b41663395b77d">rclcpp::Client::remove_pending_request</a></div><div class="ttdeci">bool remove_pending_request(const FutureAndRequestId &amp;future)</div><div class="ttdoc">Cleanup a pending request.</div><div class="ttdef"><b>Definition:</b> client.hpp:713</div></div>
<div class="ttc" id="aclassrclcpp_1_1Logger_html"><div class="ttname"><a href="classrclcpp_1_1Logger.html">rclcpp::Logger</a></div><div class="ttdef"><b>Definition:</b> logger.hpp:92</div></div>
<div class="ttc" id="aclassrclcpp_1_1QoS_html"><div class="ttname"><a href="classrclcpp_1_1QoS.html">rclcpp::QoS</a></div><div class="ttdoc">Encapsulation of Quality of Service settings.</div><div class="ttdef"><b>Definition:</b> qos.hpp:111</div></div>
<div class="ttc" id="aclassrclcpp_1_1node__interfaces_1_1NodeBaseInterface_html"><div class="ttname"><a href="classrclcpp_1_1node__interfaces_1_1NodeBaseInterface.html">rclcpp::node_interfaces::NodeBaseInterface</a></div><div class="ttdoc">Pure virtual interface class for the NodeBase part of the Node API.</div><div class="ttdef"><b>Definition:</b> node_base_interface.hpp:38</div></div>
<div class="ttc" id="acpp__callback__trampoline_8hpp_html"><div class="ttname"><a href="cpp__callback__trampoline_8hpp.html">cpp_callback_trampoline.hpp</a></div></div>
<div class="ttc" id="aexceptions_8hpp_html"><div class="ttname"><a href="exceptions_8hpp.html">exceptions.hpp</a></div></div>
<div class="ttc" id="aexpand__topic__or__service__name_8hpp_html"><div class="ttname"><a href="expand__topic__or__service__name_8hpp.html">expand_topic_or_service_name.hpp</a></div></div>
<div class="ttc" id="afunction__traits_8hpp_html"><div class="ttname"><a href="function__traits_8hpp.html">function_traits.hpp</a></div></div>
<div class="ttc" id="alogging_8hpp_html"><div class="ttname"><a href="logging_8hpp.html">logging.hpp</a></div></div>
<div class="ttc" id="alogging_8hpp_html_a7381209d69f9949ec0353921b11e0cd9"><div class="ttname"><a href="logging_8hpp.html#a7381209d69f9949ec0353921b11e0cd9">RCLCPP_ERROR_STREAM</a></div><div class="ttdeci">#define RCLCPP_ERROR_STREAM(logger, stream_arg)</div><div class="ttdef"><b>Definition:</b> logging.hpp:1592</div></div>
<div class="ttc" id="amacros_8hpp_html"><div class="ttname"><a href="macros_8hpp.html">macros.hpp</a></div></div>
<div class="ttc" id="amacros_8hpp_html_a0a7b455740daed4f09fe358316b3f582"><div class="ttname"><a href="macros_8hpp.html#a0a7b455740daed4f09fe358316b3f582">RCLCPP_DISABLE_COPY</a></div><div class="ttdeci">#define RCLCPP_DISABLE_COPY(...)</div><div class="ttdef"><b>Definition:</b> macros.hpp:26</div></div>
<div class="ttc" id="amacros_8hpp_html_acf7fe89712fbf4410ed29e86b081deaf"><div class="ttname"><a href="macros_8hpp.html#acf7fe89712fbf4410ed29e86b081deaf">RCLCPP_SMART_PTR_DEFINITIONS</a></div><div class="ttdeci">#define RCLCPP_SMART_PTR_DEFINITIONS(...)</div><div class="ttdef"><b>Definition:</b> macros.hpp:36</div></div>
<div class="ttc" id="amacros_8hpp_html_ad8b6db2e8a167744be0edad2e07b19f3"><div class="ttname"><a href="macros_8hpp.html#ad8b6db2e8a167744be0edad2e07b19f3">RCLCPP_SMART_PTR_DEFINITIONS_NOT_COPYABLE</a></div><div class="ttdeci">#define RCLCPP_SMART_PTR_DEFINITIONS_NOT_COPYABLE(...)</div><div class="ttdef"><b>Definition:</b> macros.hpp:51</div></div>
<div class="ttc" id="anamespacerclcpp_1_1exceptions_html_a1d5126c081e6f2e015ef4bb1447edec5"><div class="ttname"><a href="namespacerclcpp_1_1exceptions.html#a1d5126c081e6f2e015ef4bb1447edec5">rclcpp::exceptions::throw_from_rcl_error</a></div><div class="ttdeci">void throw_from_rcl_error(rcl_ret_t ret, const std::string &amp;prefix=&quot;&quot;, const rcl_error_state_t *error_state=nullptr, reset_error_function_t reset_error=rcl_reset_error)</div><div class="ttdoc">Throw a C++ std::exception which was created based on an rcl error.</div></div>
<div class="ttc" id="anamespacerclcpp_html"><div class="ttname"><a href="namespacerclcpp.html">rclcpp</a></div><div class="ttdoc">Versions of rosidl_typesupport_cpp::get_message_type_support_handle that handle adapted types.</div><div class="ttdef"><b>Definition:</b> allocator_common.hpp:26</div></div>
<div class="ttc" id="anamespacerclcpp_html_a1855b992b1b77f1ed75bab5192aaf2bd"><div class="ttname"><a href="namespacerclcpp.html#a1855b992b1b77f1ed75bab5192aaf2bd">rclcpp::expand_topic_or_service_name</a></div><div class="ttdeci">std::string expand_topic_or_service_name(const std::string &amp;name, const std::string &amp;node_name, const std::string &amp;namespace_, bool is_service=false)</div><div class="ttdoc">Expand a topic or service name and throw if it is not valid.</div></div>
<div class="ttc" id="anamespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div><div class="ttdef"><b>Definition:</b> parameter.hpp:284</div></div>
<div class="ttc" id="anode__graph__interface_8hpp_html"><div class="ttname"><a href="node__graph__interface_8hpp.html">node_graph_interface.hpp</a></div></div>
<div class="ttc" id="aqos_8hpp_html"><div class="ttname"><a href="qos_8hpp.html">qos.hpp</a></div></div>
<div class="ttc" id="astructrclcpp_1_1Client_1_1FutureAndRequestId_html"><div class="ttname"><a href="structrclcpp_1_1Client_1_1FutureAndRequestId.html">rclcpp::Client::FutureAndRequestId</a></div><div class="ttdoc">A convenient Client::Future and request id pair.</div><div class="ttdef"><b>Definition:</b> client.hpp:405</div></div>
<div class="ttc" id="astructrclcpp_1_1Client_1_1FutureAndRequestId_html_a073d917423696520de59cf4a92223a0d"><div class="ttname"><a href="structrclcpp_1_1Client_1_1FutureAndRequestId.html#a073d917423696520de59cf4a92223a0d">rclcpp::Client::FutureAndRequestId::share</a></div><div class="ttdeci">SharedFuture share() noexcept</div><div class="ttdoc">See std::future::share().</div><div class="ttdef"><b>Definition:</b> client.hpp:420</div></div>
<div class="ttc" id="astructrclcpp_1_1Client_1_1SharedFutureAndRequestId_html"><div class="ttname"><a href="structrclcpp_1_1Client_1_1SharedFutureAndRequestId.html">rclcpp::Client::SharedFutureAndRequestId</a></div><div class="ttdoc">A convenient Client::SharedFuture and request id pair.</div><div class="ttdef"><b>Definition:</b> client.hpp:433</div></div>
<div class="ttc" id="astructrclcpp_1_1Client_1_1SharedFutureWithRequestAndRequestId_html"><div class="ttname"><a href="structrclcpp_1_1Client_1_1SharedFutureWithRequestAndRequestId.html">rclcpp::Client::SharedFutureWithRequestAndRequestId</a></div><div class="ttdoc">A convenient Client::SharedFutureWithRequest and request id pair.</div><div class="ttdef"><b>Definition:</b> client.hpp:447</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html">rclcpp::detail::FutureAndRequestId</a></div><div class="ttdef"><b>Definition:</b> client.hpp:59</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_a110653b5a8411011c27405eaeb99ca79"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a110653b5a8411011c27405eaeb99ca79">rclcpp::detail::FutureAndRequestId::wait_for</a></div><div class="ttdeci">std::future_status wait_for(const std::chrono::duration&lt; Rep, Period &gt; &amp;timeout_duration) const</div><div class="ttdoc">See std::future::wait_for().</div><div class="ttdef"><b>Definition:</b> client.hpp:88</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_a11a7f940041d224f55404708b9e3887b"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a11a7f940041d224f55404708b9e3887b">rclcpp::detail::FutureAndRequestId::wait_until</a></div><div class="ttdeci">std::future_status wait_until(const std::chrono::time_point&lt; Clock, Duration &gt; &amp;timeout_time) const</div><div class="ttdoc">See std::future::wait_until().</div><div class="ttdef"><b>Definition:</b> client.hpp:95</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_a24ea0115db1f0735daceaed64324f954"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a24ea0115db1f0735daceaed64324f954">rclcpp::detail::FutureAndRequestId::operator=</a></div><div class="ttdeci">FutureAndRequestId &amp; operator=(FutureAndRequestId &amp;&amp;other) noexcept=default</div><div class="ttdoc">Move assignment.</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_a62cb5697076cd0e5db9f1cc254f7cf74"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a62cb5697076cd0e5db9f1cc254f7cf74">rclcpp::detail::FutureAndRequestId::request_id</a></div><div class="ttdeci">int64_t request_id</div><div class="ttdef"><b>Definition:</b> client.hpp:61</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_a66c81c56752acd10a499b7ef86825a13"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a66c81c56752acd10a499b7ef86825a13">rclcpp::detail::FutureAndRequestId::operator=</a></div><div class="ttdeci">FutureAndRequestId &amp; operator=(const FutureAndRequestId &amp;other)=delete</div><div class="ttdoc">Deleted copy assignment, each instance is a unique owner of the future.</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_a6fb1b54f4195153f2cddcf4942d92766"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a6fb1b54f4195153f2cddcf4942d92766">rclcpp::detail::FutureAndRequestId::FutureAndRequestId</a></div><div class="ttdeci">FutureAndRequestId(const FutureAndRequestId &amp;other)=delete</div><div class="ttdoc">Deleted copy constructor, each instance is a unique owner of the future.</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_a7b72e51a6dea5d9760b81a3f14ec764e"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#a7b72e51a6dea5d9760b81a3f14ec764e">rclcpp::detail::FutureAndRequestId::FutureAndRequestId</a></div><div class="ttdeci">FutureAndRequestId(FutureT impl, int64_t req_id)</div><div class="ttdef"><b>Definition:</b> client.hpp:63</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_aa00c423f8bc388a26eeabf5002288aa1"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aa00c423f8bc388a26eeabf5002288aa1">rclcpp::detail::FutureAndRequestId::wait</a></div><div class="ttdeci">void wait() const</div><div class="ttdoc">See std::future::wait().</div><div class="ttdef"><b>Definition:</b> client.hpp:85</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_aa4eeee1a30ee22ce22016bea6fb56dc5"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aa4eeee1a30ee22ce22016bea6fb56dc5">rclcpp::detail::FutureAndRequestId::FutureAndRequestId</a></div><div class="ttdeci">FutureAndRequestId(FutureAndRequestId &amp;&amp;other) noexcept=default</div><div class="ttdoc">Move constructor.</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_aad6fb75c3b211ac4da7d7a4c0454e458"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#aad6fb75c3b211ac4da7d7a4c0454e458">rclcpp::detail::FutureAndRequestId::~FutureAndRequestId</a></div><div class="ttdeci">~FutureAndRequestId()=default</div><div class="ttdoc">Destructor.</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_acda3641ce4fe1774fef0d955555db3db"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#acda3641ce4fe1774fef0d955555db3db">rclcpp::detail::FutureAndRequestId::get</a></div><div class="ttdeci">auto get()</div><div class="ttdoc">See std::future::get().</div><div class="ttdef"><b>Definition:</b> client.hpp:81</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_ace0880220c5c8c1dcd89bc6dd62a5840"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ace0880220c5c8c1dcd89bc6dd62a5840">rclcpp::detail::FutureAndRequestId::future</a></div><div class="ttdeci">FutureT future</div><div class="ttdef"><b>Definition:</b> client.hpp:60</div></div>
<div class="ttc" id="astructrclcpp_1_1detail_1_1FutureAndRequestId_html_ae4c5ad33994ca0fccd2caf2da9b42fbe"><div class="ttname"><a href="structrclcpp_1_1detail_1_1FutureAndRequestId.html#ae4c5ad33994ca0fccd2caf2da9b42fbe">rclcpp::detail::FutureAndRequestId::valid</a></div><div class="ttdeci">bool valid() const noexcept</div><div class="ttdoc">See std::future::valid().</div><div class="ttdef"><b>Definition:</b> client.hpp:83</div></div>
<div class="ttc" id="astructrclcpp_1_1function__traits_1_1same__arguments_html"><div class="ttname"><a href="structrclcpp_1_1function__traits_1_1same__arguments.html">rclcpp::function_traits::same_arguments</a></div><div class="ttdef"><b>Definition:</b> function_traits.hpp:169</div></div>
<div class="ttc" id="atype__support__decl_8hpp_html"><div class="ttname"><a href="type__support__decl_8hpp.html">type_support_decl.hpp</a></div></div>
<div class="ttc" id="autilities_8hpp_html"><div class="ttname"><a href="utilities_8hpp.html">utilities.hpp</a></div></div>
<div class="ttc" id="avisibility__control_8hpp_html"><div class="ttname"><a href="visibility__control_8hpp.html">visibility_control.hpp</a></div></div>
<div class="ttc" id="avisibility__control_8hpp_html_a802feb4ddc87a0699f6339a4b9ab7f23"><div class="ttname"><a href="visibility__control_8hpp.html#a802feb4ddc87a0699f6339a4b9ab7f23">RCLCPP_PUBLIC</a></div><div class="ttdeci">#define RCLCPP_PUBLIC</div><div class="ttdef"><b>Definition:</b> visibility_control.hpp:50</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
