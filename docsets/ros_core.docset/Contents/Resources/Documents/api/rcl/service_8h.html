<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rcl: include/rcl/service.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rcl
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">C API providing common ROS client library functionality.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_283a3917c54ce6b1b3757c2d5b61678e.html">rcl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">service.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;rosidl_runtime_c/service_type_support_struct.h&quot;</code><br />
<code>#include &quot;rcl/event_callback.h&quot;</code><br />
<code>#include &quot;rcl/macros.h&quot;</code><br />
<code>#include &quot;<a class="el" href="node_8h_source.html">rcl/node.h</a>&quot;</code><br />
<code>#include &quot;rcl/visibility_control.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for service.h:</div>
<div class="dyncontent">
<div class="center"><img src="service_8h__incl.png" border="0" usemap="#ainclude_2rcl_2service_8h" alt=""/></div>
<map name="ainclude_2rcl_2service_8h" id="ainclude_2rcl_2service_8h">
<area shape="rect" title=" " alt="" coords="324,5,476,32"/>
<area shape="rect" title=" " alt="" coords="5,80,187,121"/>
<area shape="rect" href="event__callback_8h_source.html" title=" " alt="" coords="211,87,363,114"/>
<area shape="rect" href="macros_8h_source.html" title=" " alt="" coords="1611,953,1714,979"/>
<area shape="rect" href="node_8h.html" title=" " alt="" coords="874,87,961,114"/>
<area shape="rect" href="visibility__control_8h_source.html" title=" " alt="" coords="703,945,825,987"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rmw/event__callback__type_8h.html.html" title=" " alt="" coords="209,169,362,211"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/macros_8h.html.html" title=" " alt="" coords="1599,1035,1726,1061"/>
<area shape="rect" title=" " alt="" coords="1782,177,1853,203"/>
<area shape="rect" href="allocator_8h.html" title=" " alt="" coords="1130,796,1241,823"/>
<area shape="rect" href="arguments_8h.html" title=" " alt="" coords="989,259,1113,285"/>
<area shape="rect" href="types_8h.html" title=" " alt="" coords="1093,423,1184,449"/>
<area shape="rect" href="context_8h.html" title=" " alt="" coords="726,647,829,673"/>
<area shape="rect" href="guard__condition_8h.html" title=" " alt="" coords="678,341,837,367"/>
<area shape="rect" href="node__options_8h.html" title=" " alt="" coords="1033,177,1175,203"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/allocator_8h.html.html" title=" " alt="" coords="1078,871,1213,897"/>
<area shape="rect" href="log__level_8h.html" title=" " alt="" coords="1162,341,1275,367"/>
<area shape="rect" title=" " alt="" coords="963,333,1138,375"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rmw/types_8h.html.html" title=" " alt="" coords="947,497,1050,524"/>
<area shape="rect" href="init_8h.html" title=" " alt="" coords="995,572,1083,599"/>
<area shape="rect" href="init__options_8h.html" title=" " alt="" coords="878,721,1021,748"/>
<area shape="rect" href="time_8h.html" title=" " alt="" coords="1401,721,1498,748"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rmw/init_8h.html.html" title=" " alt="" coords="905,796,993,823"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rcutils/time_8h.html.html" title=" " alt="" coords="1390,871,1498,897"/>
<area shape="rect" href="domain__id_8h.html" title=" " alt="" coords="1461,341,1584,367"/>
<area shape="rect" title=" " alt="" coords="1512,423,1587,449"/>
<area shape="rect" target="_parent" href="http://docs.ros2.org/humble/api/rmw/domain__id_8h.html.html" title=" " alt="" coords="1611,423,1746,449"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="service_8h__dep__incl.png" border="0" usemap="#ainclude_2rcl_2service_8hdep" alt=""/></div>
<map name="ainclude_2rcl_2service_8hdep" id="ainclude_2rcl_2service_8hdep">
<area shape="rect" title=" " alt="" coords="55,5,207,32"/>
<area shape="rect" href="event_8h.html" title=" " alt="" coords="5,80,148,107"/>
<area shape="rect" href="wait_8h.html" title=" " alt="" coords="65,155,198,181"/>
<area shape="rect" href="rcl_8h_source.html" title=" " alt="" coords="71,229,192,256"/>
</map>
</div>
</div>
<p><a href="service_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcl__service__s.html">rcl_service_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure which encapsulates a ROS Service.  <a href="structrcl__service__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcl__service__options__s.html">rcl_service_options_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options available for a rcl service.  <a href="structrcl__service__options__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a2672d3f20a12ab0ced6c8edff307fccc"><td class="memItemLeft" align="right" valign="top"><a id="a2672d3f20a12ab0ced6c8edff307fccc"></a>
typedef struct rcl_service_impl_s&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a2672d3f20a12ab0ced6c8edff307fccc">rcl_service_impl_t</a></td></tr>
<tr class="memdesc:a2672d3f20a12ab0ced6c8edff307fccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal rcl implementation struct. <br /></td></tr>
<tr class="separator:a2672d3f20a12ab0ced6c8edff307fccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb8426db94b01e37dd16325355d4716"><td class="memItemLeft" align="right" valign="top"><a id="a6fb8426db94b01e37dd16325355d4716"></a>
typedef struct <a class="el" href="structrcl__service__s.html">rcl_service_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a></td></tr>
<tr class="memdesc:a6fb8426db94b01e37dd16325355d4716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure which encapsulates a ROS Service. <br /></td></tr>
<tr class="separator:a6fb8426db94b01e37dd16325355d4716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabbbb5d7bdd0f111084fc26b7bb2b9bf"><td class="memItemLeft" align="right" valign="top"><a id="aabbbb5d7bdd0f111084fc26b7bb2b9bf"></a>
typedef struct <a class="el" href="structrcl__service__options__s.html">rcl_service_options_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#aabbbb5d7bdd0f111084fc26b7bb2b9bf">rcl_service_options_t</a></td></tr>
<tr class="memdesc:aabbbb5d7bdd0f111084fc26b7bb2b9bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Options available for a rcl service. <br /></td></tr>
<tr class="separator:aabbbb5d7bdd0f111084fc26b7bb2b9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa6ed44193f26570c22caa8b002263dd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#aa6ed44193f26570c22caa8b002263dd3">rcl_get_zero_initialized_service</a> (void)</td></tr>
<tr class="memdesc:aa6ed44193f26570c22caa8b002263dd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a rcl_service_t struct with members set to <code>NULL</code>.  <a href="service_8h.html#aa6ed44193f26570c22caa8b002263dd3">More...</a><br /></td></tr>
<tr class="separator:aa6ed44193f26570c22caa8b002263dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb92bd1565695939306c76330b136727"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#aeb92bd1565695939306c76330b136727">rcl_service_init</a> (<a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service, const <a class="el" href="node_8h.html#aa1a2643c704298122381822f334b6a2b">rcl_node_t</a> *node, const rosidl_service_type_support_t *type_support, const char *service_name, const <a class="el" href="service_8h.html#aabbbb5d7bdd0f111084fc26b7bb2b9bf">rcl_service_options_t</a> *options)</td></tr>
<tr class="memdesc:aeb92bd1565695939306c76330b136727"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a rcl service.  <a href="service_8h.html#aeb92bd1565695939306c76330b136727">More...</a><br /></td></tr>
<tr class="separator:aeb92bd1565695939306c76330b136727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c66c6d6447efd364e68aece8e83ae9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#aa2c66c6d6447efd364e68aece8e83ae9">rcl_service_fini</a> (<a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service, <a class="el" href="node_8h.html#aa1a2643c704298122381822f334b6a2b">rcl_node_t</a> *node)</td></tr>
<tr class="memdesc:aa2c66c6d6447efd364e68aece8e83ae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalize a rcl_service_t.  <a href="service_8h.html#aa2c66c6d6447efd364e68aece8e83ae9">More...</a><br /></td></tr>
<tr class="separator:aa2c66c6d6447efd364e68aece8e83ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233516e6143dec2ee2a1a67b23e13b41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="service_8h.html#aabbbb5d7bdd0f111084fc26b7bb2b9bf">rcl_service_options_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a233516e6143dec2ee2a1a67b23e13b41">rcl_service_get_default_options</a> (void)</td></tr>
<tr class="memdesc:a233516e6143dec2ee2a1a67b23e13b41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the default service options in a rcl_service_options_t.  <a href="service_8h.html#a233516e6143dec2ee2a1a67b23e13b41">More...</a><br /></td></tr>
<tr class="separator:a233516e6143dec2ee2a1a67b23e13b41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3fe1a7d99043ea65d4b035e49e0c38d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#ac3fe1a7d99043ea65d4b035e49e0c38d">rcl_take_request_with_info</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service, <a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a8ba466b6297af05b5e02bb764e59d81a">rmw_service_info_t</a> *request_header, void *ros_request)</td></tr>
<tr class="memdesc:ac3fe1a7d99043ea65d4b035e49e0c38d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a pending ROS request using a rcl service.  <a href="service_8h.html#ac3fe1a7d99043ea65d4b035e49e0c38d">More...</a><br /></td></tr>
<tr class="separator:ac3fe1a7d99043ea65d4b035e49e0c38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f83de4831c2c1f2d010229017bc6be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a08f83de4831c2c1f2d010229017bc6be">rcl_take_request</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service, <a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a06165095338e08315047c7fde7537f03">rmw_request_id_t</a> *request_header, void *ros_request)</td></tr>
<tr class="memdesc:a08f83de4831c2c1f2d010229017bc6be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Backwards compatibility function to take a pending ROS request using a rcl service.  <a href="service_8h.html#a08f83de4831c2c1f2d010229017bc6be">More...</a><br /></td></tr>
<tr class="separator:a08f83de4831c2c1f2d010229017bc6be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8631f47c48757228b813d0849d399d81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81">rcl_send_response</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service, <a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a06165095338e08315047c7fde7537f03">rmw_request_id_t</a> *response_header, void *ros_response)</td></tr>
<tr class="memdesc:a8631f47c48757228b813d0849d399d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a ROS response to a client using a service.  <a href="service_8h.html#a8631f47c48757228b813d0849d399d81">More...</a><br /></td></tr>
<tr class="separator:a8631f47c48757228b813d0849d399d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c005590c9d8049d294326b8929f16d5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a8c005590c9d8049d294326b8929f16d5">rcl_service_get_service_name</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service)</td></tr>
<tr class="memdesc:a8c005590c9d8049d294326b8929f16d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the topic name for the service.  <a href="service_8h.html#a8c005590c9d8049d294326b8929f16d5">More...</a><br /></td></tr>
<tr class="separator:a8c005590c9d8049d294326b8929f16d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ac1a60dc39f73ad8f97ad53eb5d5ebb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="service_8h.html#aabbbb5d7bdd0f111084fc26b7bb2b9bf">rcl_service_options_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a8ac1a60dc39f73ad8f97ad53eb5d5ebb">rcl_service_get_options</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service)</td></tr>
<tr class="memdesc:a8ac1a60dc39f73ad8f97ad53eb5d5ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the rcl service options.  <a href="service_8h.html#a8ac1a60dc39f73ad8f97ad53eb5d5ebb">More...</a><br /></td></tr>
<tr class="separator:a8ac1a60dc39f73ad8f97ad53eb5d5ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b3f364e84a761aa34dc7c5ff8c5c6e9"><td class="memItemLeft" align="right" valign="top"><a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a562ff74fd2c35c006bac0f8a98dabd7e">rmw_service_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a3b3f364e84a761aa34dc7c5ff8c5c6e9">rcl_service_get_rmw_handle</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service)</td></tr>
<tr class="memdesc:a3b3f364e84a761aa34dc7c5ff8c5c6e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the rmw service handle.  <a href="service_8h.html#a3b3f364e84a761aa34dc7c5ff8c5c6e9">More...</a><br /></td></tr>
<tr class="separator:a3b3f364e84a761aa34dc7c5ff8c5c6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af364348c25553e12ac9f1c21a94398ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#af364348c25553e12ac9f1c21a94398ae">rcl_service_is_valid</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service)</td></tr>
<tr class="memdesc:af364348c25553e12ac9f1c21a94398ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the service is valid.  <a href="service_8h.html#af364348c25553e12ac9f1c21a94398ae">More...</a><br /></td></tr>
<tr class="separator:af364348c25553e12ac9f1c21a94398ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac627a31766734675cc9ddee3d98b949e"><td class="memItemLeft" align="right" valign="top">const <a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a6f1f6c7a61a3d276ea2758ce2d5ac9c5">rmw_qos_profile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#ac627a31766734675cc9ddee3d98b949e">rcl_service_request_subscription_get_actual_qos</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service)</td></tr>
<tr class="memdesc:ac627a31766734675cc9ddee3d98b949e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the actual qos settings of the service's request subscription.  <a href="service_8h.html#ac627a31766734675cc9ddee3d98b949e">More...</a><br /></td></tr>
<tr class="separator:ac627a31766734675cc9ddee3d98b949e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8928da16522c9d30a6d3eb9453dc39"><td class="memItemLeft" align="right" valign="top">const <a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a6f1f6c7a61a3d276ea2758ce2d5ac9c5">rmw_qos_profile_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#a5f8928da16522c9d30a6d3eb9453dc39">rcl_service_response_publisher_get_actual_qos</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service)</td></tr>
<tr class="memdesc:a5f8928da16522c9d30a6d3eb9453dc39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the actual qos settings of the service's response publisher.  <a href="service_8h.html#a5f8928da16522c9d30a6d3eb9453dc39">More...</a><br /></td></tr>
<tr class="separator:a5f8928da16522c9d30a6d3eb9453dc39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa298f541dedf4dc6cde5c11f0d82b0bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="service_8h.html#aa298f541dedf4dc6cde5c11f0d82b0bb">rcl_service_set_on_new_request_callback</a> (const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *service, rcl_event_callback_t callback, const void *user_data)</td></tr>
<tr class="memdesc:aa298f541dedf4dc6cde5c11f0d82b0bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the on new request callback function for the service.  <a href="service_8h.html#aa298f541dedf4dc6cde5c11f0d82b0bb">More...</a><br /></td></tr>
<tr class="separator:aa298f541dedf4dc6cde5c11f0d82b0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa6ed44193f26570c22caa8b002263dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ed44193f26570c22caa8b002263dd3">&#9670;&nbsp;</a></span>rcl_get_zero_initialized_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> rcl_get_zero_initialized_service </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a rcl_service_t struct with members set to <code>NULL</code>. </p>
<p>Should be called to get a null rcl_service_t before passing to <a class="el" href="service_8h.html#aeb92bd1565695939306c76330b136727" title="Initialize a rcl service.">rcl_service_init()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>A structure with a zero initialized service. </dd></dl>

</div>
</div>
<a id="aeb92bd1565695939306c76330b136727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb92bd1565695939306c76330b136727">&#9670;&nbsp;</a></span>rcl_service_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a> rcl_service_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="node_8h.html#aa1a2643c704298122381822f334b6a2b">rcl_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rosidl_service_type_support_t *&#160;</td>
          <td class="paramname"><em>type_support</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>service_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="service_8h.html#aabbbb5d7bdd0f111084fc26b7bb2b9bf">rcl_service_options_t</a> *&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a rcl service. </p>
<p>After calling this function on a rcl_service_t, it can be used to take requests of the given type to the given topic using <a class="el" href="service_8h.html#a08f83de4831c2c1f2d010229017bc6be" title="Backwards compatibility function to take a pending ROS request using a rcl service.">rcl_take_request()</a>. It can also send a response to a request using <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a>.</p>
<p>The given rcl_node_t must be valid and the resulting rcl_service_t is only valid as long as the given rcl_node_t remains valid.</p>
<p>The rosidl_service_type_support_t is obtained on a per .srv type basis. When the user defines a ROS service, code is generated which provides the required rosidl_service_type_support_t object. This object can be obtained using a language appropriate mechanism. </p><dl class="todo"><dt><b><a class="el" href="todo.html#_todo000009">Todo:</a></b></dt><dd>TODO(wjwwood) write these instructions once and link to it instead</dd></dl>
<p>For C, a macro can be used (for example <code>example_interfaces/AddTwoInts</code>):</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;rosidl_runtime_c/service_type_support_struct.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;example_interfaces/srv/add_two_ints.h&gt;</span></div>
<div class="line"><span class="keyword">const</span> rosidl_service_type_support_t * ts =</div>
<div class="line">  ROSIDL_GET_SRV_TYPE_SUPPORT(example_interfaces, srv, AddTwoInts);</div>
</div><!-- fragment --><p>For C++, a template function is used:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;rosidl_runtime_cpp/service_type_support.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;example_interfaces/srv/add_two_ints.h&gt;</span></div>
<div class="line"><span class="keyword">using</span> rosidl_typesupport_cpp::get_service_type_support_handle;</div>
<div class="line"><span class="keyword">const</span> rosidl_service_type_support_t * ts =</div>
<div class="line">  get_service_type_support_handle&lt;example_interfaces::srv::AddTwoInts&gt;();</div>
</div><!-- fragment --><p>The rosidl_service_type_support_t object contains service type specific information used to send or take requests and responses.</p>
<p>The topic name must be a c string which follows the topic and service name format rules for unexpanded names, also known as non-fully qualified names:</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="expand__topic__name_8h.html#afd76d3899685bd234563afa467b885f2" title="Expand a given topic name into a fully-qualified topic name.">rcl_expand_topic_name</a></dd></dl>
<p>The options struct allows the user to set the quality of service settings as well as a custom allocator which is used when initializing/finalizing the client to allocate space for incidentals, e.g. the service name string.</p>
<p>Expected usage (for C services):</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;rcl/rcl.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;rosidl_runtime_c/service_type_support_struct.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;example_interfaces/srv/add_two_ints.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><a class="code" href="structrcl__node__s.html">rcl_node_t</a> node = <a class="code" href="node_8h.html#a81df2a24fd74f87d520fba94297eb583">rcl_get_zero_initialized_node</a>();</div>
<div class="line"><a class="code" href="structrcl__node__options__s.html">rcl_node_options_t</a> node_ops = <a class="code" href="node__options_8h.html#a6391b8a89bd72f8e69113a471c005c3c">rcl_node_get_default_options</a>();</div>
<div class="line"><a class="code" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a> ret = <a class="code" href="node_8h.html#a404531a35e68e71f4900ff48544682b5">rcl_node_init</a>(&amp;node, <span class="stringliteral">&quot;node_name&quot;</span>, <span class="stringliteral">&quot;/my_namespace&quot;</span>, &amp;node_ops);</div>
<div class="line"><span class="comment">// ... error handling</span></div>
<div class="line"><span class="keyword">const</span> rosidl_service_type_support_t * ts =</div>
<div class="line">  ROSIDL_GET_SRV_TYPE_SUPPORT(example_interfaces, srv, AddTwoInts);</div>
<div class="line"><a class="code" href="structrcl__service__s.html">rcl_service_t</a> service = <a class="code" href="service_8h.html#aa6ed44193f26570c22caa8b002263dd3">rcl_get_zero_initialized_service</a>();</div>
<div class="line"><a class="code" href="structrcl__service__options__s.html">rcl_service_options_t</a> service_ops = <a class="code" href="service_8h.html#a233516e6143dec2ee2a1a67b23e13b41">rcl_service_get_default_options</a>();</div>
<div class="line">ret = <a class="code" href="service_8h.html#aeb92bd1565695939306c76330b136727">rcl_service_init</a>(&amp;service, &amp;node, ts, <span class="stringliteral">&quot;add_two_ints&quot;</span>, &amp;service_ops);</div>
<div class="line"><span class="comment">// ... error handling, and on shutdown do finalization:</span></div>
<div class="line">ret = <a class="code" href="service_8h.html#aa2c66c6d6447efd364e68aece8e83ae9">rcl_service_fini</a>(&amp;service, &amp;node);</div>
<div class="line"><span class="comment">// ... error handling for rcl_service_fini()</span></div>
<div class="line">ret = <a class="code" href="node_8h.html#a00d2a1a7959d7b2db49a3653235d414c">rcl_node_fini</a>(&amp;node);</div>
<div class="line"><span class="comment">// ... error handling for rcl_node_fini()</span></div>
<div class="ttc" id="anode_8h_html_a00d2a1a7959d7b2db49a3653235d414c"><div class="ttname"><a href="node_8h.html#a00d2a1a7959d7b2db49a3653235d414c">rcl_node_fini</a></div><div class="ttdeci">rcl_ret_t rcl_node_fini(rcl_node_t *node)</div><div class="ttdoc">Finalize a rcl_node_t.</div></div>
<div class="ttc" id="anode_8h_html_a404531a35e68e71f4900ff48544682b5"><div class="ttname"><a href="node_8h.html#a404531a35e68e71f4900ff48544682b5">rcl_node_init</a></div><div class="ttdeci">rcl_ret_t rcl_node_init(rcl_node_t *node, const char *name, const char *namespace_, rcl_context_t *context, const rcl_node_options_t *options)</div><div class="ttdoc">Initialize a ROS node.</div></div>
<div class="ttc" id="anode_8h_html_a81df2a24fd74f87d520fba94297eb583"><div class="ttname"><a href="node_8h.html#a81df2a24fd74f87d520fba94297eb583">rcl_get_zero_initialized_node</a></div><div class="ttdeci">rcl_node_t rcl_get_zero_initialized_node(void)</div><div class="ttdoc">Return a rcl_node_t struct with members initialized to NULL.</div></div>
<div class="ttc" id="anode__options_8h_html_a6391b8a89bd72f8e69113a471c005c3c"><div class="ttname"><a href="node__options_8h.html#a6391b8a89bd72f8e69113a471c005c3c">rcl_node_get_default_options</a></div><div class="ttdeci">rcl_node_options_t rcl_node_get_default_options(void)</div><div class="ttdoc">Return the default node options in a rcl_node_options_t.</div></div>
<div class="ttc" id="aservice_8h_html_a233516e6143dec2ee2a1a67b23e13b41"><div class="ttname"><a href="service_8h.html#a233516e6143dec2ee2a1a67b23e13b41">rcl_service_get_default_options</a></div><div class="ttdeci">rcl_service_options_t rcl_service_get_default_options(void)</div><div class="ttdoc">Return the default service options in a rcl_service_options_t.</div></div>
<div class="ttc" id="aservice_8h_html_aa2c66c6d6447efd364e68aece8e83ae9"><div class="ttname"><a href="service_8h.html#aa2c66c6d6447efd364e68aece8e83ae9">rcl_service_fini</a></div><div class="ttdeci">rcl_ret_t rcl_service_fini(rcl_service_t *service, rcl_node_t *node)</div><div class="ttdoc">Finalize a rcl_service_t.</div></div>
<div class="ttc" id="aservice_8h_html_aa6ed44193f26570c22caa8b002263dd3"><div class="ttname"><a href="service_8h.html#aa6ed44193f26570c22caa8b002263dd3">rcl_get_zero_initialized_service</a></div><div class="ttdeci">rcl_service_t rcl_get_zero_initialized_service(void)</div><div class="ttdoc">Return a rcl_service_t struct with members set to NULL.</div></div>
<div class="ttc" id="aservice_8h_html_aeb92bd1565695939306c76330b136727"><div class="ttname"><a href="service_8h.html#aeb92bd1565695939306c76330b136727">rcl_service_init</a></div><div class="ttdeci">rcl_ret_t rcl_service_init(rcl_service_t *service, const rcl_node_t *node, const rosidl_service_type_support_t *type_support, const char *service_name, const rcl_service_options_t *options)</div><div class="ttdoc">Initialize a rcl service.</div></div>
<div class="ttc" id="astructrcl__node__options__s_html"><div class="ttname"><a href="structrcl__node__options__s.html">rcl_node_options_s</a></div><div class="ttdoc">Structure which encapsulates the options for creating a rcl_node_t.</div><div class="ttdef"><b>Definition:</b> node_options.h:35</div></div>
<div class="ttc" id="astructrcl__node__s_html"><div class="ttname"><a href="structrcl__node__s.html">rcl_node_s</a></div><div class="ttdoc">Structure which encapsulates a ROS Node.</div><div class="ttdef"><b>Definition:</b> node.h:42</div></div>
<div class="ttc" id="astructrcl__service__options__s_html"><div class="ttname"><a href="structrcl__service__options__s.html">rcl_service_options_s</a></div><div class="ttdoc">Options available for a rcl service.</div><div class="ttdef"><b>Definition:</b> service.h:44</div></div>
<div class="ttc" id="astructrcl__service__s_html"><div class="ttname"><a href="structrcl__service__s.html">rcl_service_s</a></div><div class="ttdoc">Structure which encapsulates a ROS Service.</div><div class="ttdef"><b>Definition:</b> service.h:37</div></div>
<div class="ttc" id="atypes_8h_html_af66ec2e20118b821dbf3f9b0067e8796"><div class="ttname"><a href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a></div><div class="ttdeci">rmw_ret_t rcl_ret_t</div><div class="ttdoc">The type that holds an rcl return code.</div><div class="ttdef"><b>Definition:</b> types.h:23</div></div>
</div><!-- fragment --><hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">service</td><td>preallocated service structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>valid rcl node handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">type_support</td><td>type support object for the service's type </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">service_name</td><td>the name of the service </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">options</td><td>service options, including quality of service settings </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#a94bb3f9182050c163281f5c1ebe647f4" title="Success return code.">RCL_RET_OK</a> if service was initialized successfully, or </dd>
<dd>
<a class="el" href="types_8h.html#a9c0e79b35ead61d10637731040c22c8f" title="Invalid argument return code.">RCL_RET_INVALID_ARGUMENT</a> if any arguments are invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a77fcf6fe7c2893c701c09bb26b85faa8" title="rcl_init() already called return code.">RCL_RET_ALREADY_INIT</a> if the service is already initialized, or </dd>
<dd>
<a class="el" href="types_8h.html#adec68696f63d7a2cf5b77e0bcc4fb4ed" title="Invalid rcl_node_t given return code.">RCL_RET_NODE_INVALID</a> if the node is invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a951a731b43c6e7a5c1acd56963d7e1a5" title="Failed to allocate memory return code.">RCL_RET_BAD_ALLOC</a> if allocating memory failed, or </dd>
<dd>
<a class="el" href="types_8h.html#a57aff18fb159083a5226211232b4124c" title="Service name (same as topic name) does not pass validation.">RCL_RET_SERVICE_NAME_INVALID</a> if the given service name is invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#aab30713a1740183d71d6da0bb0418a74" title="Unspecified error return code.">RCL_RET_ERROR</a> if an unspecified error occurs. </dd></dl>

</div>
</div>
<a id="aa2c66c6d6447efd364e68aece8e83ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2c66c6d6447efd364e68aece8e83ae9">&#9670;&nbsp;</a></span>rcl_service_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a> rcl_service_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="node_8h.html#aa1a2643c704298122381822f334b6a2b">rcl_node_t</a> *&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalize a rcl_service_t. </p>
<p>After calling, the node will no longer listen for requests for this service. (assuming this is the only service of this type in this node).</p>
<p>After calling, calls to <a class="el" href="wait_8h.html#a732278988c802fe2c9d8ec24752f9dd9" title="Block until the wait set is ready or until the timeout has been exceeded.">rcl_wait()</a>, <a class="el" href="service_8h.html#a08f83de4831c2c1f2d010229017bc6be" title="Backwards compatibility function to take a pending ROS request using a rcl service.">rcl_take_request()</a>, and <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> will fail when using this service. Additionally <a class="el" href="wait_8h.html#a732278988c802fe2c9d8ec24752f9dd9" title="Block until the wait set is ready or until the timeout has been exceeded.">rcl_wait()</a> will be interrupted if currently blocking. However, the given node handle is still valid.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">service</td><td>handle to the service to be deinitialized </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node</td><td>a valid (not finalized) handle to the node used to create the service </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#a94bb3f9182050c163281f5c1ebe647f4" title="Success return code.">RCL_RET_OK</a> if service was deinitialized successfully, or </dd>
<dd>
<a class="el" href="types_8h.html#a9c0e79b35ead61d10637731040c22c8f" title="Invalid argument return code.">RCL_RET_INVALID_ARGUMENT</a> if any arguments are invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a4749cf5ab69fe8cdcf71c065159e1b42" title="Invalid rcl_service_t given return code.">RCL_RET_SERVICE_INVALID</a> if the service is invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#adec68696f63d7a2cf5b77e0bcc4fb4ed" title="Invalid rcl_node_t given return code.">RCL_RET_NODE_INVALID</a> if the node is invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#aab30713a1740183d71d6da0bb0418a74" title="Unspecified error return code.">RCL_RET_ERROR</a> if an unspecified error occurs. </dd></dl>

</div>
</div>
<a id="a233516e6143dec2ee2a1a67b23e13b41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233516e6143dec2ee2a1a67b23e13b41">&#9670;&nbsp;</a></span>rcl_service_get_default_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="service_8h.html#aabbbb5d7bdd0f111084fc26b7bb2b9bf">rcl_service_options_t</a> rcl_service_get_default_options </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the default service options in a rcl_service_options_t. </p>
<p>The defaults are:</p>
<ul>
<li>qos = rmw_qos_profile_services_default</li>
<li>allocator = <a class="el" href="allocator_8h.html#a2546f065f55387ed642d455a55ba7602" title="Return a properly initialized rcl_allocator_t with default values.">rcl_get_default_allocator()</a> </li>
</ul>

</div>
</div>
<a id="ac3fe1a7d99043ea65d4b035e49e0c38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3fe1a7d99043ea65d4b035e49e0c38d">&#9670;&nbsp;</a></span>rcl_take_request_with_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a> rcl_take_request_with_info </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a8ba466b6297af05b5e02bb764e59d81a">rmw_service_info_t</a> *&#160;</td>
          <td class="paramname"><em>request_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ros_request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a pending ROS request using a rcl service. </p>
<p>It is the job of the caller to ensure that the type of the ros_request argument and the type associate with the service, via the type support, match. Passing a different type to rcl_take produces undefined behavior and cannot be checked by this function and therefore no deliberate error will occur.</p>
<p>TODO(jacquelinekay) blocking of take? TODO(jacquelinekay) pre-, during-, and post-conditions for message ownership? TODO(jacquelinekay) is rcl_take_request thread-safe? TODO(jacquelinekay) Should there be an rcl_request_id_t?</p>
<p>The ros_request pointer should point to an already allocated ROS request message struct of the correct type, into which the taken ROS request will be copied if one is available. If taken is false after calling, then the ROS request will be unmodified.</p>
<p>If allocation is required when taking the request, e.g. if space needs to be allocated for a dynamically sized array in the target message, then the allocator given in the service options is used.</p>
<p>request_header is a pointer to pre-allocated a rmw struct containing meta-information about the request (e.g. the sequence number).</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">Maybe [1]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<p><em>[1] only if required when filling the request, avoided for fixed sizes</em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>the handle to the service from which to take </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">request_header</td><td>ptr to the struct holding metadata about the request </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ros_request</td><td>type-erased ptr to an allocated ROS request message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#a94bb3f9182050c163281f5c1ebe647f4" title="Success return code.">RCL_RET_OK</a> if the request was taken, or </dd>
<dd>
<a class="el" href="types_8h.html#a9c0e79b35ead61d10637731040c22c8f" title="Invalid argument return code.">RCL_RET_INVALID_ARGUMENT</a> if any arguments are invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a4749cf5ab69fe8cdcf71c065159e1b42" title="Invalid rcl_service_t given return code.">RCL_RET_SERVICE_INVALID</a> if the service is invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a951a731b43c6e7a5c1acd56963d7e1a5" title="Failed to allocate memory return code.">RCL_RET_BAD_ALLOC</a> if allocating memory failed, or </dd>
<dd>
<a class="el" href="types_8h.html#ac8bdc055cb2fae0b87dc92fb4c33a819" title="Failed to take a request from the service return code.">RCL_RET_SERVICE_TAKE_FAILED</a> if take failed but no error occurred in the middleware, or </dd>
<dd>
<a class="el" href="types_8h.html#aab30713a1740183d71d6da0bb0418a74" title="Unspecified error return code.">RCL_RET_ERROR</a> if an unspecified error occurs. </dd></dl>

</div>
</div>
<a id="a08f83de4831c2c1f2d010229017bc6be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08f83de4831c2c1f2d010229017bc6be">&#9670;&nbsp;</a></span>rcl_take_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a> rcl_take_request </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a06165095338e08315047c7fde7537f03">rmw_request_id_t</a> *&#160;</td>
          <td class="paramname"><em>request_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ros_request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Backwards compatibility function to take a pending ROS request using a rcl service. </p>
<p>This version takes a request ID only. See <a class="el" href="service_8h.html#ac3fe1a7d99043ea65d4b035e49e0c38d" title="Take a pending ROS request using a rcl service.">rcl_take_request_with_info()</a> for a full explanation of what this does.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>the handle to the service from which to take </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">request_header</td><td>ptr to the struct holding the id of the request </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">ros_request</td><td>type-erased ptr to an allocated ROS request message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#a94bb3f9182050c163281f5c1ebe647f4" title="Success return code.">RCL_RET_OK</a> if the request was taken, or </dd>
<dd>
<a class="el" href="types_8h.html#a9c0e79b35ead61d10637731040c22c8f" title="Invalid argument return code.">RCL_RET_INVALID_ARGUMENT</a> if any arguments are invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a4749cf5ab69fe8cdcf71c065159e1b42" title="Invalid rcl_service_t given return code.">RCL_RET_SERVICE_INVALID</a> if the service is invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a951a731b43c6e7a5c1acd56963d7e1a5" title="Failed to allocate memory return code.">RCL_RET_BAD_ALLOC</a> if allocating memory failed, or </dd>
<dd>
<a class="el" href="types_8h.html#ac8bdc055cb2fae0b87dc92fb4c33a819" title="Failed to take a request from the service return code.">RCL_RET_SERVICE_TAKE_FAILED</a> if take failed but no error occurred in the middleware, or </dd>
<dd>
<a class="el" href="types_8h.html#aab30713a1740183d71d6da0bb0418a74" title="Unspecified error return code.">RCL_RET_ERROR</a> if an unspecified error occurs. </dd></dl>

</div>
</div>
<a id="a8631f47c48757228b813d0849d399d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8631f47c48757228b813d0849d399d81">&#9670;&nbsp;</a></span>rcl_send_response()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a> rcl_send_response </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a06165095338e08315047c7fde7537f03">rmw_request_id_t</a> *&#160;</td>
          <td class="paramname"><em>response_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ros_response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a ROS response to a client using a service. </p>
<p>It is the job of the caller to ensure that the type of the <code>ros_response</code> parameter and the type associate with the service (via the type support) match. Passing a different type to send_response produces undefined behavior and cannot be checked by this function and therefore no deliberate error will occur.</p>
<p>send_response() is an non-blocking call.</p>
<p>The ROS response message given by the <code>ros_response</code> void pointer is always owned by the calling code, but should remain constant during <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a>.</p>
<p>This function is thread safe so long as access to both the service and the <code>ros_response</code> is synchronized. That means that calling <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> from multiple threads is allowed, but calling <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> at the same time as non-thread safe service functions is not, e.g. calling <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> and <a class="el" href="service_8h.html#aa2c66c6d6447efd364e68aece8e83ae9" title="Finalize a rcl_service_t.">rcl_service_fini()</a> concurrently is not allowed. Before calling <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> the message can change and after calling <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> the message can change, but it cannot be changed during the <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> call. The same <code>ros_response</code>, however, can be passed to multiple calls of <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a> simultaneously, even if the services differ. The <code>ros_response</code> is unmodified by <a class="el" href="service_8h.html#a8631f47c48757228b813d0849d399d81" title="Send a ROS response to a client using a service.">rcl_send_response()</a>.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">Yes [1]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<p><em>[1] for unique pairs of services and responses, see above for more</em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>handle to the service which will make the response </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">response_header</td><td>ptr to the struct holding metadata about the request ID </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ros_response</td><td>type-erased pointer to the ROS response message </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="types_8h.html#a94bb3f9182050c163281f5c1ebe647f4" title="Success return code.">RCL_RET_OK</a> if the response was sent successfully, or </dd>
<dd>
<a class="el" href="types_8h.html#a9c0e79b35ead61d10637731040c22c8f" title="Invalid argument return code.">RCL_RET_INVALID_ARGUMENT</a> if any arguments are invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#a4749cf5ab69fe8cdcf71c065159e1b42" title="Invalid rcl_service_t given return code.">RCL_RET_SERVICE_INVALID</a> if the service is invalid, or </dd>
<dd>
<a class="el" href="types_8h.html#aab30713a1740183d71d6da0bb0418a74" title="Unspecified error return code.">RCL_RET_ERROR</a> if an unspecified error occurs. </dd></dl>

</div>
</div>
<a id="a8c005590c9d8049d294326b8929f16d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c005590c9d8049d294326b8929f16d5">&#9670;&nbsp;</a></span>rcl_service_get_service_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* rcl_service_get_service_name </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the topic name for the service. </p>
<p>This function returns the service's internal topic name string. This function can fail, and therefore return <code>NULL</code>, if the:</p><ul>
<li>service is <code>NULL</code></li>
<li>service is invalid (never called init, called fini, or invalid)</li>
</ul>
<p>The returned string is only valid as long as the service is valid. The value of the string may change if the topic name changes, and therefore copying the string is recommended if this is a concern.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>the pointer to the service </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>name string if successful, otherwise <code>NULL</code> </dd></dl>

</div>
</div>
<a id="a8ac1a60dc39f73ad8f97ad53eb5d5ebb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ac1a60dc39f73ad8f97ad53eb5d5ebb">&#9670;&nbsp;</a></span>rcl_service_get_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="service_8h.html#aabbbb5d7bdd0f111084fc26b7bb2b9bf">rcl_service_options_t</a>* rcl_service_get_options </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the rcl service options. </p>
<p>This function returns the service's internal options struct. This function can fail, and therefore return <code>NULL</code>, if the:</p><ul>
<li>service is <code>NULL</code></li>
<li>service is invalid (never called init, called fini, or invalid)</li>
</ul>
<p>The returned struct is only valid as long as the service is valid. The values in the struct may change if the service's options change, and therefore copying the struct is recommended if this is a concern.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>pointer to the service </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>options struct if successful, otherwise <code>NULL</code> </dd></dl>

</div>
</div>
<a id="a3b3f364e84a761aa34dc7c5ff8c5c6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b3f364e84a761aa34dc7c5ff8c5c6e9">&#9670;&nbsp;</a></span>rcl_service_get_rmw_handle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a562ff74fd2c35c006bac0f8a98dabd7e">rmw_service_t</a>* rcl_service_get_rmw_handle </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the rmw service handle. </p>
<p>The handle returned is a pointer to the internally held rmw handle. This function can fail, and therefore return <code>NULL</code>, if the:</p><ul>
<li>service is <code>NULL</code></li>
<li>service is invalid (never called init, called fini, or invalid)</li>
</ul>
<p>The returned handle is made invalid if the service is finalized or if <a class="el" href="init_8h.html#a87e421f97cf55ea30804874d7b62b751" title="Shutdown a given rcl context.">rcl_shutdown()</a> is called. The returned handle is not guaranteed to be valid for the life time of the service as it may be finalized and recreated itself. Therefore it is recommended to get the handle from the service using this function each time it is needed and avoid use of the handle concurrently with functions that might change it.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>pointer to the rcl service </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>rmw service handle if successful, otherwise <code>NULL</code> </dd></dl>

</div>
</div>
<a id="af364348c25553e12ac9f1c21a94398ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af364348c25553e12ac9f1c21a94398ae">&#9670;&nbsp;</a></span>rcl_service_is_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rcl_service_is_valid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the service is valid. </p>
<p>The bool returned is <code>false</code> if <code>service</code> is invalid. The bool returned is <code>true</code> otherwise. In the case where <code>false</code> is to be returned, an error message is set. This function cannot fail.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>pointer to the rcl service </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if <code>service</code> is valid, otherwise <code>false</code> </dd></dl>

</div>
</div>
<a id="ac627a31766734675cc9ddee3d98b949e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac627a31766734675cc9ddee3d98b949e">&#9670;&nbsp;</a></span>rcl_service_request_subscription_get_actual_qos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a6f1f6c7a61a3d276ea2758ce2d5ac9c5">rmw_qos_profile_t</a>* rcl_service_request_subscription_get_actual_qos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the actual qos settings of the service's request subscription. </p>
<p>Used to get the actual qos settings of the service's request subscription. The actual configuration applied when using RMW_*_SYSTEM_DEFAULT can only be resolved after the creation of the service, and it depends on the underlying rmw implementation. If the underlying setting in use can't be represented in ROS terms, it will be set to RMW_*_UNKNOWN. The returned struct is only valid as long as the rcl_service_t is valid.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>pointer to the rcl service </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>qos struct if successful, otherwise <code>NULL</code> </dd></dl>

</div>
</div>
<a id="a5f8928da16522c9d30a6d3eb9453dc39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f8928da16522c9d30a6d3eb9453dc39">&#9670;&nbsp;</a></span>rcl_service_response_publisher_get_actual_qos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="elRef" href="http://docs.ros2.org/humble/api/rmw/types_8h.html#a6f1f6c7a61a3d276ea2758ce2d5ac9c5">rmw_qos_profile_t</a>* rcl_service_response_publisher_get_actual_qos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the actual qos settings of the service's response publisher. </p>
<p>Used to get the actual qos settings of the service's response publisher. The actual configuration applied when using RMW_*_SYSTEM_DEFAULT can only be resolved after the creation of the service, and it depends on the underlying rmw implementation. If the underlying setting in use can't be represented in ROS terms, it will be set to RMW_*_UNKNOWN. The returned struct is only valid as long as the rcl_service_t is valid.</p>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Yes   </td></tr>
</table>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>pointer to the rcl service </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>qos struct if successful, otherwise <code>NULL</code> </dd></dl>

</div>
</div>
<a id="aa298f541dedf4dc6cde5c11f0d82b0bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa298f541dedf4dc6cde5c11f0d82b0bb">&#9670;&nbsp;</a></span>rcl_service_set_on_new_request_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#af66ec2e20118b821dbf3f9b0067e8796">rcl_ret_t</a> rcl_service_set_on_new_request_callback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="service_8h.html#a6fb8426db94b01e37dd16325355d4716">rcl_service_t</a> *&#160;</td>
          <td class="paramname"><em>service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rcl_event_callback_t&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the on new request callback function for the service. </p>
<p>This API sets the callback function to be called whenever the service is notified about a new request.</p>
<dl class="section see"><dt>See also</dt><dd><a class="elRef" href="http://docs.ros2.org/humble/api/rmw/rmw_8h.html#a16d8166fcd185bb40fa4b316f422e896">rmw_service_set_on_new_request_callback</a> for details about this function.</dd></dl>
<hr  />
 <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Attribute   </th><th class="markdownTableHeadNone">Adherence    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Allocates Memory   </td><td class="markdownTableBodyNone">No    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Thread-Safe   </td><td class="markdownTableBodyNone">Yes    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uses Atomics   </td><td class="markdownTableBodyNone">Maybe [1]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Lock-Free   </td><td class="markdownTableBodyNone">Maybe [1]   </td></tr>
</table>
<p><em>[1] rmw implementation defined</em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">service</td><td>The service on which to set the callback </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The callback to be called when new requests arrive, may be NULL </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_data</td><td>Given to the callback when called later, may be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>RCL_RET_OK</code> if callback was set to the listener, or </dd>
<dd>
<code>RCL_RET_INVALID_ARGUMENT</code> if <code>service</code> is NULL, or </dd>
<dd>
<code>RCL_RET_UNSUPPORTED</code> if the API is not implemented in the dds implementation </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
