<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rclcpp: rclcpp::LoanedMessage&lt; MessageT, AllocatorT &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rclcpp
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">C++ ROS Client Library API</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacerclcpp.html">rclcpp</a></li><li class="navelem"><a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classrclcpp_1_1LoanedMessage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rclcpp::LoanedMessage&lt; MessageT, AllocatorT &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="loaned__message_8hpp_source.html">loaned_message.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for rclcpp::LoanedMessage&lt; MessageT, AllocatorT &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classrclcpp_1_1LoanedMessage__coll__graph.png" border="0" usemap="#arclcpp_1_1LoanedMessage_3_01MessageT_00_01AllocatorT_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="arclcpp_1_1LoanedMessage_3_01MessageT_00_01AllocatorT_01_4_coll__map" id="arclcpp_1_1LoanedMessage_3_01MessageT_00_01AllocatorT_01_4_coll__map">
<area shape="rect" title=" " alt="" coords="16,185,208,227"/>
<area shape="rect" href="classrclcpp_1_1PublisherBase.html" title=" " alt="" coords="31,96,193,123"/>
<area shape="rect" title=" " alt="" coords="5,5,219,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aabe234aba050793443ad4230eb54096c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#aabe234aba050793443ad4230eb54096c">LoanedMessage</a> (const <a class="el" href="classrclcpp_1_1PublisherBase.html">rclcpp::PublisherBase</a> &amp;pub, std::allocator&lt; MessageT &gt; allocator)</td></tr>
<tr class="memdesc:aabe234aba050793443ad4230eb54096c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> class.  <a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#aabe234aba050793443ad4230eb54096c">More...</a><br /></td></tr>
<tr class="separator:aabe234aba050793443ad4230eb54096c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1228b8751624c7ce02069f3a7f9e3ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#aa1228b8751624c7ce02069f3a7f9e3ef">LoanedMessage</a> (const <a class="el" href="classrclcpp_1_1PublisherBase.html">rclcpp::PublisherBase</a> *pub, std::shared_ptr&lt; std::allocator&lt; MessageT &gt;&gt; allocator)</td></tr>
<tr class="memdesc:aa1228b8751624c7ce02069f3a7f9e3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor of the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> class.  <a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#aa1228b8751624c7ce02069f3a7f9e3ef">More...</a><br /></td></tr>
<tr class="separator:aa1228b8751624c7ce02069f3a7f9e3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d0474a606b692d8a2239644ae19c8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#ab3d0474a606b692d8a2239644ae19c8c">LoanedMessage</a> (<a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a>&lt; MessageT &gt; &amp;&amp;other)</td></tr>
<tr class="memdesc:ab3d0474a606b692d8a2239644ae19c8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move semantic for RVO.  <a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#ab3d0474a606b692d8a2239644ae19c8c">More...</a><br /></td></tr>
<tr class="separator:ab3d0474a606b692d8a2239644ae19c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7eb5f8d7da5a1d67accc0c8881634c0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#ab7eb5f8d7da5a1d67accc0c8881634c0">~LoanedMessage</a> ()</td></tr>
<tr class="memdesc:ab7eb5f8d7da5a1d67accc0c8881634c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor of the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> class.  <a name="//apple_ref/cpp/Method/~LoanedMessage" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#ab7eb5f8d7da5a1d67accc0c8881634c0">More...</a><br /></td></tr>
<tr class="separator:ab7eb5f8d7da5a1d67accc0c8881634c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5824c1d8084d72ca02fb1b663e6c3e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#af5824c1d8084d72ca02fb1b663e6c3e8">is_valid</a> () const</td></tr>
<tr class="memdesc:af5824c1d8084d72ca02fb1b663e6c3e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Validate if the message was correctly allocated.  <a name="//apple_ref/cpp/Method/is_valid" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#af5824c1d8084d72ca02fb1b663e6c3e8">More...</a><br /></td></tr>
<tr class="separator:af5824c1d8084d72ca02fb1b663e6c3e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5306552effe743ea0be81dc839c4998"><td class="memItemLeft" align="right" valign="top">MessageT &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#aa5306552effe743ea0be81dc839c4998">get</a> () const</td></tr>
<tr class="memdesc:aa5306552effe743ea0be81dc839c4998"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the ROS message instance.  <a name="//apple_ref/cpp/Method/get" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#aa5306552effe743ea0be81dc839c4998">More...</a><br /></td></tr>
<tr class="separator:aa5306552effe743ea0be81dc839c4998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bd83040333afc35318922318008355"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; MessageT, std::function&lt; void(MessageT *)&gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#a76bd83040333afc35318922318008355">release</a> ()</td></tr>
<tr class="memdesc:a76bd83040333afc35318922318008355"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release ownership of the ROS message instance.  <a name="//apple_ref/cpp/Method/release" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#a76bd83040333afc35318922318008355">More...</a><br /></td></tr>
<tr class="separator:a76bd83040333afc35318922318008355"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a84374520df3c17f9d6d9f3bef8624fa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#a84374520df3c17f9d6d9f3bef8624fa4">LoanedMessage</a> (const <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a>&lt; MessageT &gt; &amp;other)=delete</td></tr>
<tr class="memdesc:a84374520df3c17f9d6d9f3bef8624fa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deleted copy constructor to preserve memory integrity.  <a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="classrclcpp_1_1LoanedMessage.html#a84374520df3c17f9d6d9f3bef8624fa4">More...</a><br /></td></tr>
<tr class="separator:a84374520df3c17f9d6d9f3bef8624fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3a42f521e4ce0547e5b3f62fe599ea3a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classrclcpp_1_1PublisherBase.html">rclcpp::PublisherBase</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#a3a42f521e4ce0547e5b3f62fe599ea3a">pub_</a></td></tr>
<tr class="separator:a3a42f521e4ce0547e5b3f62fe599ea3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84995d4ebba382e1370c85c37b18e325"><td class="memItemLeft" align="right" valign="top">MessageT *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#a84995d4ebba382e1370c85c37b18e325">message_</a></td></tr>
<tr class="separator:a84995d4ebba382e1370c85c37b18e325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d646964a3964c86162e90508515239"><td class="memItemLeft" align="right" valign="top">MessageAllocator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classrclcpp_1_1LoanedMessage.html#ae5d646964a3964c86162e90508515239">message_allocator_</a></td></tr>
<tr class="separator:ae5d646964a3964c86162e90508515239"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aabe234aba050793443ad4230eb54096c"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="#aabe234aba050793443ad4230eb54096c">&#9670;&nbsp;</a></span>LoanedMessage() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::<a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrclcpp_1_1PublisherBase.html">rclcpp::PublisherBase</a> &amp;&#160;</td>
          <td class="paramname"><em>pub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::allocator&lt; MessageT &gt;&#160;</td>
          <td class="paramname"><em>allocator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor of the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> class. </p>
<p>The constructor of this class allocates memory for a given message type and associates this with a given publisher.</p>
<p>Given the publisher instance, a case differentiation is being performaned which decides whether the underlying middleware is able to allocate the appropriate memory for this message type or not. In the case that the middleware can not loan messages, the passed in allocator instance is being used to allocate the message within the scope of this class. Otherwise, the allocator is being ignored and the allocation is solely performaned in the underlying middleware with its appropriate allocation strategy. The need for this arises as the user code can be written explicitly targeting a middleware capable of loaning messages. However, this user code is ought to be usable even when dynamically linked against a middleware which doesn't support message loaning in which case the allocator will be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pub</td><td><a class="el" href="classrclcpp_1_1Publisher.html" title="A publisher publishes messages of any type to a topic.">rclcpp::Publisher</a> instance to which the memory belongs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>Allocator instance in case middleware can not allocate messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">anything</td><td><a class="el" href="namespacerclcpp_1_1exceptions.html#a1d5126c081e6f2e015ef4bb1447edec5" title="Throw a C++ std::exception which was created based on an rcl error.">rclcpp::exceptions::throw_from_rcl_error</a> can throw. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa1228b8751624c7ce02069f3a7f9e3ef"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="#aa1228b8751624c7ce02069f3a7f9e3ef">&#9670;&nbsp;</a></span>LoanedMessage() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::<a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrclcpp_1_1PublisherBase.html">rclcpp::PublisherBase</a> *&#160;</td>
          <td class="paramname"><em>pub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; std::allocator&lt; MessageT &gt;&gt;&#160;</td>
          <td class="paramname"><em>allocator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor of the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> class. </p>
<p>The constructor of this class allocates memory for a given message type and associates this with a given publisher.</p>
<p>Given the publisher instance, a case differentiation is being performaned which decides whether the underlying middleware is able to allocate the appropriate memory for this message type or not. In the case that the middleware can not loan messages, the passed in allocator instance is being used to allocate the message within the scope of this class. Otherwise, the allocator is being ignored and the allocation is solely performaned in the underlying middleware with its appropriate allocation strategy. The need for this arises as the user code can be written explicitly targeting a middleware capable of loaning messages. However, this user code is ought to be usable even when dynamically linked against a middleware which doesn't support message loaning in which case the allocator will be used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pub</td><td><a class="el" href="classrclcpp_1_1Publisher.html" title="A publisher publishes messages of any type to a topic.">rclcpp::Publisher</a> instance to which the memory belongs </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>Allocator instance in case middleware can not allocate messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">anything</td><td><a class="el" href="namespacerclcpp_1_1exceptions.html#a1d5126c081e6f2e015ef4bb1447edec5" title="Throw a C++ std::exception which was created based on an rcl error.">rclcpp::exceptions::throw_from_rcl_error</a> can throw. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3d0474a606b692d8a2239644ae19c8c"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="#ab3d0474a606b692d8a2239644ae19c8c">&#9670;&nbsp;</a></span>LoanedMessage() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::<a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a>&lt; MessageT &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move semantic for RVO. </p>

</div>
</div>
<a id="ab7eb5f8d7da5a1d67accc0c8881634c0"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/~LoanedMessage" class="dashAnchor">&nbsp;</a><a href="#ab7eb5f8d7da5a1d67accc0c8881634c0">&#9670;&nbsp;</a></span>~LoanedMessage()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::~<a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor of the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> class. </p>
<p>The destructor has the explicit task to return the allocated memory for its message instance. If the message was previously allocated via the middleware, the message is getting returned to the middleware to cleanly destroy the allocation. In the case that the local allocator instance was used, the same instance is then being used to destroy the allocated memory.</p>
<p>The contract here is that the memory for this message is valid as long as this instance of the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> class is alive. </p>

</div>
</div>
<a id="a84374520df3c17f9d6d9f3bef8624fa4"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/LoanedMessage" class="dashAnchor">&nbsp;</a><a href="#a84374520df3c17f9d6d9f3bef8624fa4">&#9670;&nbsp;</a></span>LoanedMessage() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::<a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a>&lt; MessageT &gt; &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deleted copy constructor to preserve memory integrity. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af5824c1d8084d72ca02fb1b663e6c3e8"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/is_valid" class="dashAnchor">&nbsp;</a><a href="#af5824c1d8084d72ca02fb1b663e6c3e8">&#9670;&nbsp;</a></span>is_valid()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::is_valid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Validate if the message was correctly allocated. </p>
<p>The allocated memory might not be always consistent and valid. Reasons why this could fail is that an allocation step was failing, e.g. just like malloc could fail or a maximum amount of previously allocated messages is exceeded in which case the loaned messages have to be returned to the middleware prior to be able to allocate a new one. </p>

</div>
</div>
<a id="aa5306552effe743ea0be81dc839c4998"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/get" class="dashAnchor">&nbsp;</a><a href="#aa5306552effe743ea0be81dc839c4998">&#9670;&nbsp;</a></span>get()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageT&amp; <a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Access the ROS message instance. </p>
<p>A call to <code><a class="el" href="classrclcpp_1_1LoanedMessage.html#aa5306552effe743ea0be81dc839c4998" title="Access the ROS message instance.">get()</a></code> will return a mutable reference to the underlying ROS message instance. This allows a user to modify the content of the message prior to publishing it.</p>
<p>If this reference is copied, the memory for this copy is no longer managed by the <a class="el" href="classrclcpp_1_1LoanedMessage.html">LoanedMessage</a> instance and has to be cleanup individually. </p>

</div>
</div>
<a id="a76bd83040333afc35318922318008355"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Method/release" class="dashAnchor">&nbsp;</a><a href="#a76bd83040333afc35318922318008355">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;MessageT, std::function&lt;void(MessageT *)&gt; &gt; <a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release ownership of the ROS message instance. </p>
<p>A call to <code><a class="el" href="classrclcpp_1_1LoanedMessage.html#a76bd83040333afc35318922318008355" title="Release ownership of the ROS message instance.">release()</a></code> will unmanage the memory for the ROS message. That means that the destructor of this class will not free the memory on scope exit. If the message is loaned from the middleware but not be published, the user needs to call <code>rcl_return_loaned_message_from_publisher</code> manually. If the memory is from the local allocator, the memory is freed when the unique pointer goes out instead.</p>
<dl class="section return"><dt>Returns</dt><dd>std::unique_ptr to the message instance. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a3a42f521e4ce0547e5b3f62fe599ea3a"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Variable/pub_" class="dashAnchor">&nbsp;</a><a href="#a3a42f521e4ce0547e5b3f62fe599ea3a">&#9670;&nbsp;</a></span>pub_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classrclcpp_1_1PublisherBase.html">rclcpp::PublisherBase</a>&amp; <a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a84995d4ebba382e1370c85c37b18e325"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Variable/message_" class="dashAnchor">&nbsp;</a><a href="#a84995d4ebba382e1370c85c37b18e325">&#9670;&nbsp;</a></span>message_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageT* <a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::message_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae5d646964a3964c86162e90508515239"></a>
<h2 class="memtitle"><span class="permalink"><a name="//apple_ref/cpp/Variable/message_allocator_" class="dashAnchor">&nbsp;</a><a href="#ae5d646964a3964c86162e90508515239">&#9670;&nbsp;</a></span>message_allocator_</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename MessageT , typename AllocatorT  = std::allocator&lt;void&gt;&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MessageAllocator <a class="el" href="classrclcpp_1_1LoanedMessage.html">rclcpp::LoanedMessage</a>&lt; MessageT, AllocatorT &gt;::message_allocator_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/rclcpp/<a class="el" href="loaned__message_8hpp_source.html">loaned_message.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
